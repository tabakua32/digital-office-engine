# TASK-04: –°–∏–Ω—Ç–µ–∑ ‚Üí –î–∏–∑–∞–π–Ω Skill Factory

## –ú–ï–¢–ê
–°–∏–Ω—Ç–µ–∑—É–≤–∞—Ç–∏ –í–°–Ü –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è (TASK 01-03) –∑ –≤–ª–∞—Å–Ω–∏–º–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏
‚Üí —Å–ø—Ä–æ–µ–∫—Ç—É–≤–∞—Ç–∏ Skill Factory —è–∫–∞ –ì–ï–ù–ï–†–£–Ñ agent skills –∑ –Ω—É–ª—è.

## –ö–û–ù–¢–ï–ö–°–¢
Skill Factory = –ø—Ä–æ–∫–∞—á–∞–Ω–∏–π skill-architect.
–í—Ö—ñ–¥: –ø–æ–∑–∏—Ü—ñ—è –∑ —Ç–∞–±–ª–∏—Ü—ñ 77 + Marketing Chain –ª–∞–Ω–∫–∞.
–í–∏—Ö—ñ–¥: –ø–æ–≤–Ω–∏–π NanoClaw-ready agent skill.

## INPUT FILES

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å:
```
anthropic_skills_analysis.md    ‚Üê –∑ TASK-01
system_prompts_analysis.md      ‚Üê –∑ TASK-02
opensource_skills_triage.md     ‚Üê –∑ TASK-03
```

### –í–ª–∞—Å–Ω—ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏ (–ü–†–û–ß–ò–¢–ê–ô –ü–û–í–ù–Ü–°–¢–Æ –∫–æ–∂–µ–Ω):
```
YAKOMANDA_Agent_Prompt_System_v1.md   ‚Üê 52 –±–ª–æ–∫–∏, Decision Matrix, Bias Catalog
Marketing_Chain_v3_2026.md            ‚Üê 14 –ª–∞–Ω–æ–∫, frameworks, evidence grades
NanoClaw_architecture.md              ‚Üê –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏, IPC, CLAUDE.md, groups
MECE_Marketing_Matrix_v5.xlsx         ‚Üê 77 –ø–æ–∑–∏—Ü—ñ–π, –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∏, —Ä–æ–ª—ñ
MECE_Claude_ecosystem.md              ‚Üê —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ Claude, –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó, JTBD

# –ù–∞—è–≤–Ω—ñ skills (–ø—Ä–æ—á–∏—Ç–∞–π SKILL.md + references/):
skill-architect/                      ‚Üê –ë–ê–ó–û–í–ò–ô —Å–∫—ñ–ª —è–∫–∏–π –º–∏ –ê–ü–ì–†–ï–ô–î–ò–ú–û
prompt-enhancer/                      ‚Üê –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ, detection patterns
```

### –ö–æ–≥–Ω—ñ—Ç–∏–≤–Ω—ñ –º–æ–¥–µ–ª—ñ (—è–∫—â–æ —î –æ–∫—Ä–µ–º–∏–º —Ñ–∞–π–ª–æ–º):
```
cognitive_models.md                   ‚Üê –ê—Ä–∏—Å—Ç–æ—Ç–µ–ª—å—Å—å–∫—ñ –ø–∏—Ç–∞–Ω–Ω—è, MECE, —ñ–Ω—à—ñ
```

## –ó–ê–î–ê–ß–ê

### –ö—Ä–æ–∫ 1: Consolidated Pattern Library (1 –≥–æ–¥)
–û–±'—î–¥–Ω–∞–π –ø–∞—Ç–µ—Ä–Ω–∏ –∑ –¢–†–¨–û–• –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å —É –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—é:

```
| # | PATTERN | SOURCE | PRIORITY | NANOCLAW ADAPTATION |
|---|---------|--------|----------|---------------------|
| 1 | Sandwich structure | Anthropic skills + skill-architect | üî¥ | –ü–µ—Ä—à—ñ 20% + –æ—Å—Ç–∞–Ω–Ω—ñ 10% SKILL.md |
| 2 | ... | ... | ... | ... |
```

–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó:
- FORMAT patterns (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—É)
- ORCHESTRATION patterns (–¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è, handoff)
- SAFETY patterns (boundaries, escalation)
- OUTPUT patterns (—Ñ–æ—Ä–º–∞—Ç –≤–∏—Ö–æ–¥—É)
- MEMORY patterns (–∫–æ–Ω—Ç–µ–∫—Å—Ç –º—ñ–∂ —Å–µ—Å—ñ—è–º–∏)
- QUALITY patterns (self-check, gates)

### –ö—Ä–æ–∫ 2: Gap Analysis (1 –≥–æ–¥)

#### 2a. –©–æ –ü–û–¢–†–Ü–ë–ù–û –¥–ª—è 77 marketing agents:
–í–∏—Ç—è–≥–Ω–∏ –∑ –Ø–ö–û–ú–ê–ù–î–ê + Marketing Chain + NanoClaw:
```
REQUIREMENT: [—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ]
SOURCE: [–Ø–ö–û–ú–ê–ù–î–ê –±–ª–æ–∫ / Chain –ª–∞–Ω–∫–∞ / NanoClaw constraint]
PRIORITY: [üî¥ CRITICAL | üü° HIGH | üü¢ NICE]
```

#### 2b. –©–æ –≤–∂–µ –ü–û–ö–†–ò–¢–û:
–ü–µ—Ä–µ–≤—ñ—Ä –∫–æ–∂–Ω—É –≤–∏–º–æ–≥—É –ø—Ä–æ—Ç–∏ –Ω–∞—è–≤–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤:
```
REQUIREMENT ‚Üí COVERED BY [skill-architect? prompt-enhancer? Anthropic pattern?]
```

#### 2c. –©–æ –ù–ï –ü–û–ö–†–ò–¢–û (–ì–ï–ü–ò):
```
GAP: [—â–æ –≤—ñ–¥—Å—É—Ç–Ω—î]
IMPACT: [—â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è —è–∫—â–æ –Ω–µ –∑–∞–∫—Ä–∏—Ç–∏]
SOLUTION: [—è–∫ –∑–∞–∫—Ä–∏—Ç–∏ ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ / –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏ / –¥–æ—Å–ª—ñ–¥–∏—Ç–∏]
EFFORT: [LOW | MED | HIGH]
```

### –ö—Ä–æ–∫ 3: –ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è 4 –Ω–æ–≤–∏—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤ (2 –≥–æ–¥)

#### 3a. Handoff Contract Standard
```yaml
# handoff_contract_standard.md
PURPOSE: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö –º—ñ–∂ NanoClaw –∞–≥–µ–Ω—Ç–∞–º–∏

SCHEMA:
  handoff:
    from_agent: string        # —Ö—Ç–æ –ø–µ—Ä–µ–¥–∞—î
    to_agent: string          # —Ö—Ç–æ –æ—Ç—Ä–∏–º—É—î
    task_type: enum           # analytical | generative | transformational
    input:
      data: object            # —â–æ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è
      format: string          # markdown | json | csv | text
      confidence: float       # 0.0-1.0 ‚Äî –Ω–∞—Å–∫—ñ–ª—å–∫–∏ from_agent –≤–ø–µ–≤–Ω–µ–Ω–∏–π
      evidence_grade: enum    # NOBEL | PR | IV | PP | HEUR | DISC
    output_expected:
      format: string
      schema: object          # JSON schema –æ—á—ñ–∫—É–≤–∞–Ω–æ–≥–æ –≤–∏—Ö–æ–¥—É
    constraints:
      tone_isolation: bool    # —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ —Ç–æ–Ω –≤—Ö—ñ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
      cascade_check: bool     # –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ confidence upstream
      max_tokens: int         # –±—é–¥–∂–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
    error:
      on_low_confidence: enum # flag | retry | escalate_to_human
      on_format_mismatch: enum
      on_timeout: enum

EXAMPLES:
  - analyst ‚Üí strategist (competitive data ‚Üí positioning recommendation)
  - strategist ‚Üí copywriter (positioning ‚Üí ad copy)
  - orchestrator ‚Üí sub-agent (task decomposition ‚Üí execution)
```

#### 3b. Output Templates (4 —Ç–∏–ø–∏)
–î–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É —Å—Ç–≤–æ—Ä–∏ template:

**ANALYTICAL** (competitor research, market analysis, audit):
```
- Confidence calibration per claim
- Evidence grade per source
- Uncertainty explicit ("–Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ" ‚â† "–Ω–µ —ñ—Å–Ω—É—î")
- Structured sections: Executive Summary ‚Üí Findings ‚Üí Evidence ‚Üí Gaps ‚Üí Recommendations
```

**GENERATIVE** (copy, content, email sequences):
```
- Brand voice self-check rubric (–ø–µ—Ä–µ–¥ –≤–∏–¥–∞—á–µ—é)
- Awareness level tag (Schwartz)
- Bias activation tag (—è–∫—ñ –±—ñ–∞—Å–∏ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ)
- –í–∞—Ä—ñ–∞–Ω—Ç–∏ (–º—ñ–Ω—ñ–º—É–º 2-3 –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
```

**TRANSFORMATIONAL** (reformat, adapt, translate tone):
```
- Input validation checklist
- Output validation checklist
- Diff summary (—â–æ –∑–º—ñ–Ω–µ–Ω–æ —ñ —á–æ–º—É)
- Strict I/O schema
```

**ORCHESTRATION** (routing, delegation, synthesis):
```
- Routing table: task type ‚Üí sub-agent
- Handoff contracts per sub-agent
- Aggregation rules (—è–∫ –∑–±–∏—Ä–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏)
- Fallback strategy (—è–∫—â–æ sub-agent fails)
```

#### 3c. Position ‚Üí Skill Mapping Table
```
| # | Position | Dept | Chain Link | Task Type | Key Frameworks | Model | Bias Set |
|---|----------|------|------------|-----------|----------------|-------|----------|
| 1 | Market Intelligence Analyst | MI | ‚ë† | analytical | TAM/SAM/SOM, Porter 5, PESTEL | Sonnet | confirmation, anchoring |
| 2 | ... | ... | ... | ... | ... | ... | ... |
```
77 —Ä—è–¥–∫—ñ–≤. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π MECE_Marketing_Matrix_v5.xlsx —è–∫ –æ—Å–Ω–æ–≤—É.

### –ö—Ä–æ–∫ 4: –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ Skill Factory (1 –≥–æ–¥)

–°–ø—Ä–æ–µ–∫—Ç—É–π –ü–û–í–ù–£ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É:

```
nanoclaw-skill-factory/
‚îú‚îÄ‚îÄ SKILL.md                          ‚Üê –ì–æ–ª–æ–≤–Ω–∏–π workflow (<500 —Ä—è–¥–∫—ñ–≤)
‚îÇ                                        5 —Ñ–∞–∑: SCOPE ‚Üí DESIGN ‚Üí BUILD ‚Üí VERIFY ‚Üí PACKAGE
‚îÇ
‚îú‚îÄ‚îÄ references/
‚îÇ   ‚îú‚îÄ‚îÄ format-patterns.md            ‚Üê Consolidated patterns –∑ –∫—Ä–æ–∫ 1
‚îÇ   ‚îú‚îÄ‚îÄ format-standard.md            ‚Üê NanoClaw agent skill —Å—Ç–∞–Ω–¥–∞—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ handoff-contracts.md          ‚Üê –ó –∫—Ä–æ–∫ 3a
‚îÇ   ‚îú‚îÄ‚îÄ vulnerability-shields.md      ‚Üê –ó prompt-enhancer (–∞–¥–∞–ø—Ç–æ–≤–∞–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ marketing-context.md          ‚Üê Chain –ª–∞–Ω–∫–∏ + frameworks + evidence
‚îÇ   ‚îú‚îÄ‚îÄ yakomanda-blocks.md           ‚Üê 52 –±–ª–æ–∫–∏ –∑ Decision Matrix
‚îÇ   ‚îú‚îÄ‚îÄ cognitive-models.md           ‚Üê –ê—Ä–∏—Å—Ç–æ—Ç–µ–ª—å, MECE, thinking frameworks
‚îÇ   ‚îú‚îÄ‚îÄ position-mapping.md           ‚Üê –ó –∫—Ä–æ–∫ 3c
‚îÇ   ‚îú‚îÄ‚îÄ nanoclaw-constraints.md       ‚Üê Container, IPC, CLAUDE.md, groups
‚îÇ   ‚îî‚îÄ‚îÄ output-templates/
‚îÇ       ‚îú‚îÄ‚îÄ analytical.md
‚îÇ       ‚îú‚îÄ‚îÄ generative.md
‚îÇ       ‚îú‚îÄ‚îÄ transformational.md
‚îÇ       ‚îî‚îÄ‚îÄ orchestration.md
‚îÇ
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ audit_skill.py                ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≥–æ—Ç–æ–≤–æ–≥–æ —Å–∫—ñ–ª–∞
‚îÇ   ‚îî‚îÄ‚îÄ generate_skill_skeleton.py    ‚Üê –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–∫–µ–ª–µ—Ç—É –∑ position-mapping
‚îÇ
‚îî‚îÄ‚îÄ assets/
    ‚îî‚îÄ‚îÄ skill-template.md             ‚Üê –ü–æ—Ä–æ–∂–Ω—ñ–π —à–∞–±–ª–æ–Ω NanoClaw agent skill
```

SKILL.md WORKFLOW:
```
PHASE 1 ‚Äî SCOPE:
  Input: –ø–æ–∑–∏—Ü—ñ—è # –∑ mapping table
  ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—è–≥—É—î: chain link, task type, frameworks, model tier, bias set
  ‚Üí –ü—ñ–¥—Ç—è–≥—É—î task checklist –∑ TASK-03 (—è–∫—â–æ —î –¥–ª—è —Ü—å–æ–≥–æ —Ç–∏–ø—É)

PHASE 2 ‚Äî DESIGN:
  ‚Üí –í–∏–±–∏—Ä–∞—î –Ø–ö–û–ú–ê–ù–î–ê blocks –∑–∞ Decision Matrix
  ‚Üí –í–∏–±–∏—Ä–∞—î vulnerability shields –∑–∞ task type
  ‚Üí –í–∏–±–∏—Ä–∞—î output template –∑–∞ task type
  ‚Üí –í–∏–∑–Ω–∞—á–∞—î handoff contracts (input –≤—ñ–¥ –∫–æ–≥–æ, output –∫–æ–º—É)

PHASE 3 ‚Äî BUILD:
  ‚Üí –ì–µ–Ω–µ—Ä—É—î SKILL.md –∑–∞ format-standard
  ‚Üí Sandwich structure: critical info –ø–µ—Ä—à—ñ 20% + –æ—Å—Ç–∞–Ω–Ω—ñ 10%
  ‚Üí –í–±—É–¥–æ–≤—É—î output template
  ‚Üí –í–±—É–¥–æ–≤—É—î quality gates
  ‚Üí –ì–µ–Ω–µ—Ä—É—î CLAUDE.md template (–ø–∞–º'—è—Ç—å)

PHASE 4 ‚Äî VERIFY:
  ‚Üí 3 test prompts: ideal case, edge case, adversarial case
  ‚Üí Self-check –∑–∞ audit_skill.py –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏
  ‚Üí Handoff contract validation (input/output schemas consistent)

PHASE 5 ‚Äî PACKAGE:
  ‚Üí –§—ñ–Ω–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤
  ‚Üí NanoClaw-ready (container mount points, IPC capabilities)
  ‚Üí –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
```

## OUTPUT
–§–∞–π–ª–∏:
1. `consolidated_patterns.md` (–∫—Ä–æ–∫ 1)
2. `gap_analysis.md` (–∫—Ä–æ–∫ 2)
3. `handoff_contract_standard.md` (–∫—Ä–æ–∫ 3a)
4. `output_templates/analytical.md` (–∫—Ä–æ–∫ 3b)
5. `output_templates/generative.md` (–∫—Ä–æ–∫ 3b)
6. `output_templates/transformational.md` (–∫—Ä–æ–∫ 3b)
7. `output_templates/orchestration.md` (–∫—Ä–æ–∫ 3b)
8. `position_skill_mapping.md` (–∫—Ä–æ–∫ 3c)
9. `skill_factory_architecture.md` (–∫—Ä–æ–∫ 4)

## QUALITY GATES
- [ ] Consolidated patterns ‚â• 30 –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü—ñ—î—é
- [ ] Gap analysis –ø–æ–∫—Ä–∏–≤–∞—î –í–°–Ü üî¥ CRITICAL –≤–∏–º–æ–≥–∏
- [ ] Handoff contract –º–∞—î 3+ —Ä–æ–±–æ—á–∏—Ö –ø—Ä–∏–∫–ª–∞–¥–∏
- [ ] –ö–æ–∂–µ–Ω output template –º–∞—î self-check rubric
- [ ] Position mapping –º–∞—î –≤—Å—ñ 77 —Ä—è–¥–∫—ñ–≤
- [ ] Architecture SKILL.md workflow –ª–æ–≥—ñ—á–Ω–æ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π
- [ ] –í—Å–µ –ø—Ä–∏–≤'—è–∑–∞–Ω–µ –¥–æ NanoClaw constraints (container, IPC, CLAUDE.md)
