# NanoClaw Phase 2.5: MTProto Userbot Layer
## ĞŸĞ¾Ğ²Ğ½Ğµ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ Ğ¾ÑĞ¾Ğ±Ğ¸ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ğ° Telegram Ñ‡ĞµÑ€ĞµĞ· Claude

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ**: ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ğ° ÑĞ¿ĞµÑ†Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ
**Ğ—Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ–**: Phase 2 (Telegram Platform Layer), Phase 1 (Topology)
**Ğ‘Ñ–Ğ±Ğ»Ñ–Ğ¾Ñ‚ĞµĞºĞ°**: GramJS (`telegram` npm package) â€” TypeScript MTProto ĞºĞ»Ñ–Ñ”Ğ½Ñ‚ Ğ´Ğ»Ñ Node.js

---

## 0. ĞĞ°Ğ²Ñ–Ñ‰Ğ¾ Ñ†Ğµ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾: Bot API vs MTProto

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ĞŸĞĞ¢ĞĞ§ĞĞ ĞĞ Ğ¥Ğ†Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ (Phase 2)                â”‚
â”‚                                                                 â”‚
â”‚  Telegram Bot API â†’ telegram.ts â†’ NanoClaw                     â”‚
â”‚                                                                 â”‚
â”‚  âœ… ĞÑ‚Ñ€Ğ¸Ğ¼ÑƒÑ” Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ ĞŸĞ†Ğ¡Ğ›Ğ¯ Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ğ±Ğ¾Ñ‚Ğ°                   â”‚
â”‚  âœ… Inline keyboards, Mini Apps, payments                       â”‚
â”‚  âœ… ĞĞ´Ğ¼Ñ–Ğ½Ñ–ÑÑ‚Ñ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ³Ñ€ÑƒĞ¿ (ÑĞºÑ‰Ğ¾ Ğ±Ğ¾Ñ‚ = Ğ°Ğ´Ğ¼Ñ–Ğ½)                     â”‚
â”‚                                                                 â”‚
â”‚  ğŸš« ĞĞ• Ğ±Ğ°Ñ‡Ğ¸Ñ‚ÑŒ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ                               â”‚
â”‚  ğŸš« ĞĞ• Ğ¾Ñ‚Ñ€Ğ¸Ğ¼ÑƒÑ” ÑĞ¿Ğ¸ÑĞ¾Ğº ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºÑ–Ğ² (Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ°Ğ´Ğ¼Ñ–Ğ½Ğ¸)                â”‚
â”‚  ğŸš« ĞĞ• ÑˆÑƒĞºĞ°Ñ” Ğ¿Ğ¾ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½ÑÑ…                                  â”‚
â”‚  ğŸš« ĞĞ• Ğ¿Ñ€Ğ¸Ñ”Ğ´Ğ½ÑƒÑ”Ñ‚ÑŒÑÑ Ğ´Ğ¾ Ğ³Ñ€ÑƒĞ¿ ÑĞ°Ğ¼Ğ¾ÑÑ‚Ñ–Ğ¹Ğ½Ğ¾                         â”‚
â”‚  ğŸš« ĞĞ• Ğ±Ğ°Ñ‡Ğ¸Ñ‚ÑŒ Ğ´Ñ–Ğ°Ğ»Ğ¾Ğ³Ğ¸, ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ¸, Ğ°Ñ€Ñ…Ñ–Ğ²                         â”‚
â”‚  ğŸš« ĞĞ• Ğ¼Ğ¾Ğ¶Ğµ Ñ–Ğ½Ñ–Ñ†Ñ–ÑĞ²Ğ°Ñ‚Ğ¸ Ñ€Ğ¾Ğ·Ğ¼Ğ¾Ğ²Ñƒ Ğ¿ĞµÑ€ÑˆĞ¸Ğ¼                          â”‚
â”‚  ğŸš« ĞĞ• Ğ¾Ñ‚Ñ€Ğ¸Ğ¼ÑƒÑ” ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ ĞºĞ°Ğ½Ğ°Ğ»Ñ–Ğ²                              â”‚
â”‚  ğŸš« ĞĞ• Ğ¿Ñ€Ğ°Ñ†ÑÑ” Ğ·Ñ– Stories                                       â”‚
â”‚  ğŸš« ĞĞ• Ğ±Ğ°Ñ‡Ğ¸Ñ‚ÑŒ "Ñ…Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ²"                                   â”‚
â”‚  ğŸš« ĞĞ• Ğ¼Ğ°Ñ” Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ Ğ´Ğ¾ saved messages                           â”‚
â”‚  ğŸš« ĞĞ• ĞµĞºÑĞ¿Ğ¾Ñ€Ñ‚ÑƒÑ” Ğ´Ğ°Ğ½Ñ–                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ĞĞĞ’Ğ ĞĞ Ğ¥Ğ†Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ (Phase 2.5)                 â”‚
â”‚                                                                 â”‚
â”‚  Telegram Bot API â”€â”€â†’ telegram-bot.ts â”€â”€â”                      â”‚
â”‚                                          â”œâ”€â”€â†’ NanoClaw          â”‚
â”‚  Telegram MTProto â”€â”€â†’ telegram-user.ts â”€â”€â”˜                     â”‚
â”‚  (GramJS, Ğ¾ÑĞ¾Ğ±Ğ¸ÑÑ‚Ğ¸Ğ¹ Ğ°ĞºĞ°ÑƒĞ½Ñ‚)                                    â”‚
â”‚                                                                 â”‚
â”‚  Bot = UI + HITL + Ñ–Ğ½Ğ»Ğ°Ğ¹Ğ½-ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ + payments                   â”‚
â”‚  User = Ğ ĞĞ—Ğ’Ğ†Ğ”ĞšĞ + Ğ”ĞĞĞ† + ĞŸĞ£Ğ‘Ğ›Ğ†ĞšĞĞ¦Ğ†Ğ¯ + ĞĞ’Ğ¢ĞĞœĞĞ¢Ğ˜Ğ—ĞĞ¦Ğ†Ğ¯           â”‚
â”‚                                                                 â”‚
â”‚  Ğ Ğ°Ğ·Ğ¾Ğ¼ = ĞŸĞĞ’ĞĞ˜Ğ™ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ Telegram ÑĞº Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ğ¾Ñ— Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ¸   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. Ğ¢ĞµÑ…Ğ½Ñ–Ñ‡Ğ½Ğ¸Ğ¹ ÑÑ‚ĞµĞº: GramJS

**Ğ§Ğ¾Ğ¼Ñƒ GramJS, Ğ° Ğ½Ğµ Pyrogram/Telethon/mtcute:**

| ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ñ–Ğ¹ | GramJS | Pyrogram/Telethon | mtcute |
|---|---|---|---|
| ĞœĞ¾Ğ²Ğ° | TypeScript/JS | Python | TypeScript |
| Ğ¡ÑƒĞ¼Ñ–ÑĞ½Ñ–ÑÑ‚ÑŒ Ğ· NanoClaw | âœ… Node.js, Ñ‚Ğ¾Ğ¹ ÑĞ°Ğ¼Ğ¸Ğ¹ ÑÑ‚ĞµĞº | âŒ ĞĞºÑ€ĞµĞ¼Ğ¸Ğ¹ Python Ğ¿Ñ€Ğ¾Ñ†ĞµÑ | âœ… Ğ¡ÑƒĞ¼Ñ–ÑĞ½Ğ¸Ğ¹ |
| Ğ—Ñ€Ñ–Ğ»Ñ–ÑÑ‚ÑŒ | Ğ‘Ğ°Ğ·ÑƒÑ”Ñ‚ÑŒÑÑ Ğ½Ğ° Telethon, ÑÑ‚Ğ°Ğ±Ñ–Ğ»ÑŒĞ½Ğ¸Ğ¹ | ĞĞ°Ğ¹Ğ·Ñ€Ñ–Ğ»Ñ–ÑˆĞ¸Ğ¹ | ĞœĞ¾Ğ»Ğ¾Ğ´Ğ¸Ğ¹ (2023) |
| npm | `telegram` (7K+ stars) | N/A | `@mtcute/node` |
| Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ | Telegram Web Z (Ğ¾Ñ„Ñ–Ñ†Ñ–Ğ¹Ğ½Ğ¸Ğ¹ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚) | Ğ¢Ğ¸ÑÑÑ‡Ñ– userbot-Ñ–Ğ² | ĞœĞµĞ½ÑˆĞµ adoption |
| Ğ¡ĞµÑÑ–Ñ— | StringSession (Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ°) | Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ñ–/String | Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ñ– |
| **Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ** | **âœ… ĞĞ‘Ğ ĞĞĞ** | Fallback | ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° |

**ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ:**
```
my.telegram.org â†’ API Development Tools â†’ api_id + api_hash
â†’ GramJS TelegramClient(StringSession, apiId, apiHash)
â†’ auth.sendCode(phoneNumber) â†’ SMS/Telegram ĞºĞ¾Ğ´
â†’ auth.signIn(code) â†’ ÑĞµÑÑ–Ñ Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ° ÑĞº StringSession
â†’ ĞĞ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ° Ğ¿Ñ€Ğ¾Ñ†ĞµĞ´ÑƒÑ€Ğ°. Ğ¡ĞµÑÑ–Ñ Ğ¿ĞµÑ€ĞµĞ¶Ğ¸Ğ²Ğ°Ñ” Ñ€ĞµÑÑ‚Ğ°Ñ€Ñ‚Ğ¸.
```

---

## 2. MECE-ĞºĞ°Ñ€Ñ‚Ğ°: Ğ’Ğ¡Ğ• Ñ‰Ğ¾ Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ğ²Ğ°Ñ” MTProto User Account

### ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ A: Ğ†Ğ¡Ğ¢ĞĞ Ğ†Ğ¯ Ğ¢Ğ ĞŸĞĞ¨Ğ£Ğš (Bot API = ğŸš« Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ½ÑƒĞ»ÑŒ)

| # | ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ | MTProto Ğ¼ĞµÑ‚Ğ¾Ğ´ | Ğ©Ğ¾ Ñ†Ğµ Ğ´Ğ°Ñ” NanoClaw | ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ğµ Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|---|---|---|---|---|
| A1 | **Ğ†ÑÑ‚Ğ¾Ñ€Ñ–Ñ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ** Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¾Ğ³Ğ¾ Ñ‡Ğ°Ñ‚Ñƒ | `messages.getHistory` | Ğ ĞµÑ‚Ñ€Ğ¾ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ñ–Ğ· Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¾Ñ— Ğ³Ñ€ÑƒĞ¿Ğ¸/ĞºĞ°Ğ½Ğ°Ğ»Ñƒ | ĞšĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ğ° Ñ€Ğ¾Ğ·Ğ²Ñ–Ğ´ĞºĞ°: Ñ‰Ğ¾ Ğ¿Ğ¸ÑĞ°Ğ»Ğ¸ ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ¸ Ğ·Ğ° Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ–Ğ¹ Ñ€Ñ–Ğº |
| A2 | **ĞŸĞ¾ÑˆÑƒĞº Ğ¿Ğ¾ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½ÑÑ…** Ğ· Ñ„Ñ–Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸ | `messages.search` | ĞŸĞ¾ÑˆÑƒĞº Ğ·Ğ° ĞºĞ»ÑÑ‡Ğ¾Ğ²Ğ¸Ğ¼Ğ¸ ÑĞ»Ğ¾Ğ²Ğ°Ğ¼Ğ¸, Ğ´Ğ°Ñ‚Ğ¾Ñ, Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¼, Ñ‚Ğ¸Ğ¿Ğ¾Ğ¼ Ğ¼ĞµĞ´Ñ–Ğ° | VoC mining: Ğ·Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ²ÑÑ– Ğ·Ğ³Ğ°Ğ´ĞºĞ¸ Ğ±Ğ¾Ğ»Ñ/Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ— |
| A3 | **Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ¿Ğ¾ÑˆÑƒĞº** Ğ¿Ğ¾ Ğ²ÑÑ–Ñ… Ñ‡Ğ°Ñ‚Ğ°Ñ… | `messages.searchGlobal` | ĞŸĞ¾ÑˆÑƒĞº Ñ‚ĞµĞ¼Ğ¸/ĞºĞ»ÑÑ‡Ğ¾Ğ²Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ğ²Ğ° Ğ¡ĞšĞ Ğ†Ğ—Ğ¬ | Ğ¢Ñ€ĞµĞ½Ğ´Ğ¾Ğ²Ğ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·: Ñ‰Ğ¾ Ğ¾Ğ±Ğ³Ğ¾Ğ²Ğ¾Ñ€ÑÑÑ‚ÑŒ Ñƒ Ğ²ÑÑ–Ñ… Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ğ¸Ñ… ÑĞ¿Ñ–Ğ»ÑŒĞ½Ğ¾Ñ‚Ğ°Ñ… |
| A4 | **ĞŸĞ¾ÑˆÑƒĞº Ğ¿Ğ¾ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¼Ñƒ Ñ‡Ğ°Ñ‚Ñƒ** | `messages.search` (peer) | Ğ¤Ñ–Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ñ–Ñ Ğ² Ñ€Ğ°Ğ¼ĞºĞ°Ñ… Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ñ‡Ğ°Ñ‚Ñƒ | ĞšĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚-Ğ°ÑƒĞ´Ğ¸Ñ‚ ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ°Ğ½Ğ°Ğ»Ñƒ |
| A5 | **ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ·Ğ° ID** | `messages.getMessages` | ĞŸÑ€ÑĞ¼Ğµ Ğ·Ğ²ĞµÑ€Ğ½ĞµĞ½Ğ½Ñ Ğ´Ğ¾ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ | ĞĞ½Ğ°Ğ»Ñ–Ğ· ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ñ–Ñ€ÑƒÑĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾ÑÑ‚Ğ° |
| A6 | **Ğ”Ñ–Ğ°Ğ»Ğ¾Ğ³Ğ¸ (ÑĞ¿Ğ¸ÑĞ¾Ğº ÑƒÑÑ–Ñ… Ñ‡Ğ°Ñ‚Ñ–Ğ²)** | `messages.getDialogs` | ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ³Ñ€ÑƒĞ¿/ĞºĞ°Ğ½Ğ°Ğ»Ñ–Ğ² Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ğ° | ĞœĞ°Ğ¿Ğ° Ğ¿Ñ€Ğ¸ÑÑƒÑ‚Ğ½Ğ¾ÑÑ‚Ñ–: Ğ´Ğµ owner Ğ²Ğ¶Ğµ Ñ” ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºĞ¾Ğ¼ |
| A7 | **Ğ—Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ñ– Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ** | `messages.getSavedDialogs` | Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ¾ saved messages | ĞĞ½Ğ°Ğ»Ñ–Ğ· Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ¸Ñ… Ğ¼Ğ°Ñ‚ĞµÑ€Ñ–Ğ°Ğ»Ñ–Ğ² owner'Ğ° |
| A8 | **Ğ—Ğ°ĞºÑ€Ñ–Ğ¿Ğ»ĞµĞ½Ñ– Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ** (Ğ²ÑÑ–, Ğ½Ğµ Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ–Ğ¹) | `messages.search` (pinned filter) | ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ¿Ñ–Ğ½Ñ–Ğ² | ĞĞ½Ğ°Ğ»Ñ–Ğ· Ğ¿Ñ€Ñ–Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ–Ğ² Ğ°Ğ´Ğ¼Ñ–Ğ½Ñ–Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¸ |

### ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ B: Ğ£Ğ§ĞĞ¡ĞĞ˜ĞšĞ˜ Ğ¢Ğ ĞšĞĞĞ¢ĞĞšĞ¢Ğ˜ (Bot API = Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ°Ğ´Ğ¼Ñ–Ğ½Ğ¸)

| # | ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ | MTProto Ğ¼ĞµÑ‚Ğ¾Ğ´ | Ğ©Ğ¾ Ñ†Ğµ Ğ´Ğ°Ñ” NanoClaw | ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ğµ Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|---|---|---|---|---|
| B1 | **ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºÑ–Ğ²** Ğ³Ñ€ÑƒĞ¿Ğ¸/ĞºĞ°Ğ½Ğ°Ğ»Ñƒ | `channels.getParticipants` | ĞŸĞ¾Ğ²Ğ½Ğ° Ğ±Ğ°Ğ·Ğ° ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºÑ–Ğ² Ğ· Ñ„Ñ–Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸ | ĞĞ½Ğ°Ğ»Ñ–Ğ· Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ—: Ñ…Ñ‚Ğ¾ Ğ¿Ñ–Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğ¹, ĞºĞ¾Ğ»Ğ¸ Ğ¿Ñ€Ğ¸Ñ”Ğ´Ğ½Ğ°Ğ²ÑÑ |
| B2 | **Ğ¤Ñ–Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ñ–Ñ ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºÑ–Ğ²** (recent, admins, bots, banned, search) | `ChannelParticipantsFilter` | Ğ¡ĞµĞ³Ğ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ | Ğ—Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ±Ğ¾Ñ‚Ñ–Ğ² ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ñ–Ğ² Ñƒ Ñ—Ñ…Ğ½Ñ–Ğ¹ Ğ³Ñ€ÑƒĞ¿Ñ– |
| B3 | **ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ¸** Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ğ° | `contacts.getContacts` | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ–Ğ² owner'Ğ° | CRM-Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ: Ñ…Ñ‚Ğ¾ Ğ· ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ–Ğ² Ğ´Ğµ Ğ¿Ñ–Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğ¹ |
| B4 | **ĞŸĞ¾ÑˆÑƒĞº ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñ–Ğ²** Ğ·Ğ° Ñ–Ğ¼'ÑĞ¼ | `contacts.search` | Ğ—Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ±ÑƒĞ´ÑŒ-ĞºĞ¾Ğ³Ğ¾ Ğ·Ğ° username | ĞŸĞ¾ÑˆÑƒĞº Ñ–Ğ½Ñ„Ğ»ÑĞµĞ½ÑĞµÑ€Ñ–Ğ², Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ñ–Ğ¹Ğ½Ğ¸Ñ… Ğ¿Ğ°Ñ€Ñ‚Ğ½ĞµÑ€Ñ–Ğ² |
| B5 | **Ğ¥Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ² Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ** | `messages.getMessageReadParticipants` | Read receipts (Ğ´Ğ»Ñ Ğ³Ñ€ÑƒĞ¿ < threshold) | ĞĞ½Ğ°Ğ»Ñ–Ğ· engagement: Ñ…Ñ‚Ğ¾ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ñ‡Ğ¸Ñ‚Ğ°Ñ” |
| B6 | **Ğ—Ğ°Ğ±Ğ»Ğ¾ĞºĞ¾Ğ²Ğ°Ğ½Ñ– ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñ–** | `contacts.getBlocked` | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ… | Ğ§Ğ¸ÑÑ‚ĞºĞ° Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ— |
| B7 | **Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½** | User status updates | ĞšĞ¾Ğ»Ğ¸ Ñ…Ñ‚Ğ¾ Ğ±ÑƒĞ² Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½ | ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ñ‡Ğ°Ñ Ğ¿Ğ¾ÑÑ‚Ñ–Ğ½Ğ³Ñƒ |

### ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ C: Ğ“Ğ Ğ£ĞŸĞ˜ Ğ¢Ğ ĞšĞĞĞĞ›Ğ˜ â€” ĞŸĞĞ’ĞĞ• Ğ£ĞŸĞ ĞĞ’Ğ›Ğ†ĞĞĞ¯ (Bot API = Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ¾)

| # | ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ | MTProto Ğ¼ĞµÑ‚Ğ¾Ğ´ | Ğ©Ğ¾ Ñ†Ğµ Ğ´Ğ°Ñ” NanoClaw | ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ğµ Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|---|---|---|---|---|
| C1 | **Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ³Ñ€ÑƒĞ¿Ñƒ/ĞºĞ°Ğ½Ğ°Ğ»** | `channels.createChannel` | Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ· Ğ½ÑƒĞ»Ñ | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ ĞºĞ°Ğ½Ğ°Ğ»Ñ–Ğ² Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñ–Ğ² |
| C2 | **ĞŸÑ€Ğ¸Ñ”Ğ´Ğ½Ğ°Ñ‚Ğ¸ÑÑ Ğ´Ğ¾ Ğ³Ñ€ÑƒĞ¿Ğ¸/ĞºĞ°Ğ½Ğ°Ğ»Ñƒ** | `channels.joinChannel` | Ğ¡Ğ°Ğ¼Ğ¾ÑÑ‚Ñ–Ğ¹Ğ½Ğ¸Ğ¹ Ğ²Ñ…Ñ–Ğ´ | ĞœĞ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ğ¸Ñ… ÑĞ¿Ñ–Ğ»ÑŒĞ½Ğ¾Ñ‚ |
| C3 | **ĞŸÑ€Ğ¸Ñ”Ğ´Ğ½Ğ°Ñ‚Ğ¸ÑÑ Ğ·Ğ° Ñ–Ğ½Ğ²Ğ°Ğ¹Ñ‚-Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½ÑĞ¼** | `messages.importChatInvite` | Ğ’Ñ…Ñ–Ğ´ Ñƒ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ– Ğ³Ñ€ÑƒĞ¿Ğ¸ | ĞĞ½Ğ°Ğ»Ñ–Ğ· Ğ·Ğ°ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ… ÑĞ¿Ñ–Ğ»ÑŒĞ½Ğ¾Ñ‚ (Ğ· Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»Ñƒ owner'Ğ°) |
| C4 | **Ğ’Ğ¸Ğ¹Ñ‚Ğ¸ Ğ· Ğ³Ñ€ÑƒĞ¿Ğ¸** | `channels.leaveChannel` | Ğ’Ğ¸Ñ…Ñ–Ğ´ | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ cleanup |
| C5 | **ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ²Ğ½Ñƒ Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€Ğ¾ Ñ‡Ğ°Ñ‚** | `channels.getFullChannel` / `messages.getFullChat` | Ğ Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ° Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ñ‚Ğ° | Ğ“Ğ»Ğ¸Ğ±ÑˆĞ¸Ğ¹ discovery Ğ½Ñ–Ğ¶ Bot API `getChat` |
| C6 | **Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ„Ğ¾Ñ€ÑƒĞ¼-Ñ‚Ğ¾Ğ¿Ñ–ĞºÑ–Ğ²** | `channels.getForumTopics` | ğŸ¯ **Ğ¢Ğµ Ñ‰Ğ¾ Bot API ĞĞ• ĞœĞĞ–Ğ•** | ĞŸĞ¾Ğ²Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğ° Ñ‚Ğ¾Ğ¿Ñ–ĞºÑ–Ğ² (workaround Ğ· Phase 2 Ğ±Ñ–Ğ»ÑŒÑˆĞµ Ğ½Ğµ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±ĞµĞ½) |
| C7 | **Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° ĞºĞ°Ğ½Ğ°Ğ»Ñƒ/Ğ³Ñ€ÑƒĞ¿Ğ¸** | `stats.getBroadcastStats` / `stats.getMegagroupStats` | Views, shares, growth, followers | ĞĞ½Ğ°Ğ»Ñ–Ñ‚Ğ¸ĞºĞ° ĞºĞ°Ğ½Ğ°Ğ»Ñ–Ğ² â€” ĞšĞ›Ğ®Ğ§ĞĞ’Ğ Ğ¿ĞµÑ€ĞµĞ²Ğ°Ğ³Ğ° |
| C8 | **Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¾ĞºÑ€ĞµĞ¼Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾ÑÑ‚Ğ°** | `stats.getMessagePublicForwards` / `stats.getMessageStats` | Views, forwards, reactions per post | A/B Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ |
| C9 | **Ğ¡Ñ…Ğ¾Ğ¶Ñ– ĞºĞ°Ğ½Ğ°Ğ»Ğ¸** | `channels.getChannelRecommendations` | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ… ĞºĞ°Ğ½Ğ°Ğ»Ñ–Ğ² | ĞšĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ğ° Ğ¼Ğ°Ğ¿Ğ°: Ñ…Ñ‚Ğ¾ ÑÑ…Ğ¾Ğ¶Ğ¸Ğ¹ Ğ½Ğ° ĞºĞ¾Ğ³Ğ¾ |
| C10 | **ĞĞ´Ğ¼Ñ–Ğ½Ñ–ÑÑ‚Ñ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ** (Ğ¿Ğ¾Ğ²Ğ½Ğµ) | `channels.editAdmin`, `channels.editBanned` | ĞŸĞ¾Ğ²Ğ½Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ Ğ¿Ñ€Ğ°Ğ²Ğ°Ğ¼Ğ¸ | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ†Ñ–Ñ— |
| C11 | **Ğ ĞµĞ´Ğ°Ğ³ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ** | `channels.editTitle`, `channels.editPhoto`, `channels.editAbout` | Ğ—Ğ¼Ñ–Ğ½Ğ° Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ… | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ¾Ğ¿Ğ¸ÑÑ–Ğ² ĞºĞ°Ğ½Ğ°Ğ»Ñ–Ğ² |

### ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ D: ĞšĞĞĞ¢Ğ•ĞĞ¢ â€” ĞŸĞ£Ğ‘Ğ›Ğ†ĞšĞĞ¦Ğ†Ğ¯ Ğ¢Ğ Ğ£ĞŸĞ ĞĞ’Ğ›Ğ†ĞĞĞ¯ (Bot API = Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ¾)

| # | ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ | MTProto Ğ¼ĞµÑ‚Ğ¾Ğ´ | Ğ©Ğ¾ Ñ†Ğµ Ğ´Ğ°Ñ” NanoClaw | ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ğµ Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|---|---|---|---|---|
| D1 | **ĞĞ°Ğ´Ñ–ÑĞ»Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ²Ñ–Ğ´ Ñ–Ğ¼ĞµĞ½Ñ– user** | `messages.sendMessage` | ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ ÑĞº Ğ¾ÑĞ¾Ğ±Ğ¸ÑÑ‚Ğ¸Ğ¹ Ğ°ĞºĞ°ÑƒĞ½Ñ‚ | Personal brand: Ğ¿Ğ¾ÑÑ‚Ğ¸ Ğ²Ñ–Ğ´ Ñ–Ğ¼ĞµĞ½Ñ– owner'Ğ°, Ğ½Ğµ Ğ±Ğ¾Ñ‚Ğ° |
| D2 | **ĞŸĞµÑ€ĞµÑĞ»Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ** | `messages.forwardMessages` | ĞšÑ€Ğ¾Ñ-Ğ¿Ğ¾ÑÑ‚Ñ–Ğ½Ğ³ | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ repurpose ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ Ğ¼Ñ–Ğ¶ ĞºĞ°Ğ½Ğ°Ğ»Ğ°Ğ¼Ğ¸ |
| D3 | **Ğ—Ğ°Ğ¿Ğ»Ğ°Ğ½ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ** | `schedule_date` parameter | ĞĞ°Ñ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹ schedule | ĞšĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚-ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ Ğ±ĞµĞ· Ğ·Ğ¾Ğ²Ğ½Ñ–ÑˆĞ½Ñ–Ñ… Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ–Ğ² |
| D4 | **Ğ ĞµĞ´Ğ°Ğ³ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ** | `messages.editMessage` | Ğ—Ğ¼Ñ–Ğ½Ğ° Ğ¾Ğ¿ÑƒĞ±Ğ»Ñ–ĞºĞ¾Ğ²Ğ°Ğ½Ğ¾Ğ³Ğ¾ | Ğ’Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº, A/B Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ |
| D5 | **Ğ’Ğ¸Ğ´Ğ°Ğ»Ğ¸Ñ‚Ğ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ** (ÑĞ²Ğ¾Ñ— Ñ‚Ğ° Ñ‡ÑƒĞ¶Ñ– Ğ· Ğ¿Ñ€Ğ°Ğ²Ğ°Ğ¼Ğ¸) | `messages.deleteMessages` | Cleanup | ĞœĞ¾Ğ´ĞµÑ€Ğ°Ñ†Ñ–Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ |
| D6 | **Ğ ĞµĞ°ĞºÑ†Ñ–Ñ—** â€” Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚Ğ¸/Ğ·Ğ½ÑÑ‚Ğ¸ | `messages.sendReaction` | Ğ ĞµĞ°ĞºÑ†Ñ–Ñ— Ğ²Ñ–Ğ´ Ñ–Ğ¼ĞµĞ½Ñ– user | Engagement boosting (Ğ¾Ğ±ĞµÑ€ĞµĞ¶Ğ½Ğ¾ Ğ· ToS!) |
| D7 | **Stories** â€” Ğ¿ÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ | `stories.sendStory` | ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ Stories | Ğ©Ğµ Ğ¾Ğ´Ğ¸Ğ½ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ |
| D8 | **Stories** â€” Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ | `stories.getPeerStories` | Ğ§Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ Ñ‡ÑƒĞ¶Ğ¸Ñ… Stories | ĞœĞ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ğ¸Ñ… Stories |
| D9 | **Ğ“Ğ¾Ğ»Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ** â€” ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ñ‚Ğ° Ğ³Ğ¾Ğ»Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ | `messages.sendMedia` (poll) | ĞŸĞ¾Ğ²Ğ½Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ Ğ¾Ğ¿Ğ¸Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼Ğ¸ | Ğ”Ğ¾ÑĞ»Ñ–Ğ´Ğ¶ĞµĞ½Ğ½Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ— |
| D10 | **Ğ§ĞµÑ€Ğ½ĞµÑ‚ĞºĞ¸** | `messages.saveDraft` | Ğ—Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ Ñ‡ĞµÑ€Ğ½ĞµÑ‚Ğ¾Ğº | ĞŸÑ–Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ Ğ´Ğ»Ñ review |
| D11 | **Ğ†Ğ½Ñ–Ñ†Ñ–ÑĞ²Ğ°Ñ‚Ğ¸ Ñ€Ğ¾Ğ·Ğ¼Ğ¾Ğ²Ñƒ Ğ¿ĞµÑ€ÑˆĞ¸Ğ¼** | `messages.sendMessage` (to any user) | ğŸ¯ Ğ‘Ğ¾Ñ‚ ĞĞ• ĞœĞĞ–Ğ• Ñ†Ğµ Ğ·Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ | Outreach, onboarding Ğ½Ğ¾Ğ²Ğ¸Ñ… ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ñ–Ğ² |

### ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ E: ĞœĞ•Ğ”Ğ†Ğ Ğ¢Ğ Ğ¤ĞĞ™Ğ›Ğ˜ (Bot API = Ğ»Ñ–Ğ¼Ñ–Ñ‚ 50MB download / 20MB upload)

| # | ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ | MTProto Ğ¼ĞµÑ‚Ğ¾Ğ´ | Ğ©Ğ¾ Ñ†Ğµ Ğ´Ğ°Ñ” NanoClaw | ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ğµ Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|---|---|---|---|---|
| E1 | **Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² Ğ´Ğ¾ 4GB** | `upload.getFile` (chunked) | Ğ¤Ğ°Ğ¹Ğ»Ğ¸ Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¾Ğ³Ğ¾ Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€Ñƒ | Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ²ĞµĞ»Ğ¸ĞºĞ¸Ñ… Ğ²Ñ–Ğ´ĞµĞ¾Ğ·Ğ²Ñ–Ñ‚Ñ–Ğ², Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ğ¹ |
| E2 | **Ğ’Ğ¸Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² Ğ´Ğ¾ 4GB** | `upload.saveBigFilePart` | ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ²ĞµĞ»Ğ¸ĞºĞ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² | ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ²ĞµĞ±Ñ–Ğ½Ğ°Ñ€Ğ½Ğ¸Ñ… Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ² |
| E3 | **Ğ¤Ğ¾Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ñ„Ñ–Ğ»Ñ** â€” Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ğ²ÑÑ–Ñ… | `photos.getUserPhotos` | Ğ£ÑÑ– Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€ĞºĞ¸ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ° | ĞĞ½Ğ°Ğ»Ñ–Ğ· Ğ²Ñ–Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ñ— Ñ–Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚Ñ– |
| E4 | **Ğ¡Ñ‚Ñ–ĞºĞµÑ€Ğ¸/ĞµĞ¼Ğ¾Ğ´Ğ¶Ñ–** | `messages.getStickerSet` etc. | Ğ Ğ¾Ğ±Ğ¾Ñ‚Ğ° Ğ·Ñ– ÑÑ‚Ñ–ĞºĞµÑ€Ğ°Ğ¼Ğ¸ | Branded sticker packs |

### ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ F: ĞĞšĞĞ£ĞĞ¢ Ğ¢Ğ ĞŸĞ ĞĞ¤Ğ†Ğ›Ğ¬ (Bot API = ğŸš« Ğ½ÑƒĞ»ÑŒ)

| # | ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ | MTProto Ğ¼ĞµÑ‚Ğ¾Ğ´ | Ğ©Ğ¾ Ñ†Ğµ Ğ´Ğ°Ñ” NanoClaw | ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ğµ Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|---|---|---|---|---|
| F1 | **ĞĞ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ñ„Ñ–Ğ»ÑŒ** (Ñ–Ğ¼'Ñ, bio) | `account.updateProfile` | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ bio | Dynamic bio: "ğŸ”´ Live now" â†’ "ğŸ“Š New report" |
| F2 | **ĞĞ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ Ñ„Ğ¾Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ñ„Ñ–Ğ»Ñ** | `photos.uploadProfilePhoto` | Ğ—Ğ¼Ñ–Ğ½Ğ° Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€ĞºĞ¸ | Seasonal branding, campaign-specific photos |
| F3 | **ĞĞ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ username** | `account.updateUsername` | Ğ—Ğ¼Ñ–Ğ½Ğ° username | Campaign-specific usernames |
| F4 | **Privacy settings** | `account.setPrivacy` | Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ–ÑÑ‚Ñ | ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ Ñ…Ñ‚Ğ¾ Ğ±Ğ°Ñ‡Ğ¸Ñ‚ÑŒ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½/ÑÑ‚Ğ°Ñ‚ÑƒÑ |
| F5 | **ĞŸĞ°Ğ¿ĞºĞ¸ Ñ‡Ğ°Ñ‚Ñ–Ğ²** | `folders.editPeerFolders` | ĞÑ€Ğ³Ğ°Ğ½Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ñ‡Ğ°Ñ‚Ñ–Ğ² Ñƒ Ğ¿Ğ°Ğ¿ĞºĞ¸ | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ° Ğ¾Ñ€Ğ³Ğ°Ğ½Ñ–Ğ·Ğ°Ñ†Ñ–Ñ: "Clients", "Competitors", "Partners" |
| F6 | **Ğ¡Ğ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½Ğ½Ñ** | `account.updateNotifySettings` | Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ notification | Mute ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ğ¸Ñ… ĞºĞ°Ğ½Ğ°Ğ»Ñ–Ğ² Ğ¿Ñ€Ğ¸ Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ñƒ |
| F7 | **Business info** | `account.updateBusinessWorkHours`, `updateBusinessGreetingMessage` | Telegram Business | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ñ– greeting/away messages |

### ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ G: Ğ ĞĞ—Ğ’Ğ†Ğ”ĞšĞ Ğ¢Ğ ĞĞĞĞ›Ğ†Ğ¢Ğ˜ĞšĞ (Bot API = ğŸš« Ğ½ÑƒĞ»ÑŒ)

| # | ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ | MTProto Ğ¼ĞµÑ‚Ğ¾Ğ´ | Ğ©Ğ¾ Ñ†Ğµ Ğ´Ğ°Ñ” NanoClaw | ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ğµ Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|---|---|---|---|---|
| G1 | **Resolve username/Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½** | `contacts.resolveUsername`, `contacts.resolvePhone` | Ğ—Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ±ÑƒĞ´ÑŒ-ĞºĞ¾Ğ³Ğ¾ | Ğ’ĞµÑ€Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ»Ñ–Ğ´Ñ–Ğ², Ğ¿Ğ¾ÑˆÑƒĞº decision-makers |
| G2 | **Top peers** (Ğ½Ğ°Ğ¹Ñ‡Ğ°ÑÑ‚Ñ–ÑˆÑ– ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ¸) | `contacts.getTopPeers` | Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³ ÑĞ¿Ñ–Ğ»ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ | Ğ¥Ñ‚Ğ¾ Ğ½Ğ°Ğ¹Ğ²Ğ°Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑˆĞ¸Ğ¹ Ğ´Ğ»Ñ owner'Ğ° |
| G3 | **Data export (Takeout)** | `account.initTakeoutSession` | ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ ĞµĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ´Ğ°Ğ½Ğ¸Ñ… | Backup, Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·, Ğ¼Ñ–Ğ³Ñ€Ğ°Ñ†Ñ–Ñ |
| G4 | **Nearby users/groups** | `contacts.getLocated` | Ğ“ĞµĞ¾Ğ»Ğ¾ĞºĞ°Ñ†Ñ–Ğ¹Ğ½Ğ¸Ğ¹ Ğ¿Ğ¾ÑˆÑƒĞº | Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³ |
| G5 | **ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ· ĞºĞ°Ğ½Ğ°Ğ»Ñƒ â€” public forwards** | `stats.getMessagePublicForwards` | Ğ¥Ñ‚Ğ¾ Ñ– ĞºÑƒĞ´Ğ¸ Ğ¿ĞµÑ€ĞµÑĞ»Ğ°Ğ² Ğ¿Ğ¾ÑÑ‚ | Ğ’Ñ–Ñ€ÑƒÑĞ½Ñ–ÑÑ‚ÑŒ, reach analysis |
| G6 | **Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ñ–Ñ— ĞºĞ°Ğ½Ğ°Ğ»Ñ–Ğ²** | `channels.getChannelRecommendations` | Ğ¡Ñ…Ğ¾Ğ¶Ñ– ĞºĞ°Ğ½Ğ°Ğ»Ğ¸ | Competitor discovery |
| G7 | **Invite links â€” Ğ¿Ğ¾Ğ²Ğ½Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ** | `messages.getExportedChatInvites` + analytics | Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¿Ğ¾ Ñ–Ğ½Ğ²Ğ°Ğ¹Ñ‚Ğ°Ñ… | Ğ’Ñ–Ğ´ÑÑ‚ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ´Ğ¶ĞµÑ€ĞµĞ» Ñ‚Ñ€Ğ°Ñ„Ñ–ĞºÑƒ |

### ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ H: Ğ¡ĞŸĞ•Ğ¦Ğ˜Ğ¤Ğ†Ğ§ĞĞ• Ğ´Ğ»Ñ User (Bot API = Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ¾Ğ²Ğ¾ Ğ½ĞµĞ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾)

| # | ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ | ĞĞ¿Ğ¸Ñ | ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ğµ Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|---|---|---|---|
| H1 | **Secret chats (E2E)** | End-to-end ÑˆĞ¸Ñ„Ñ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ | ĞšĞ¾Ğ½Ñ„Ñ–Ğ´ĞµĞ½Ñ†Ñ–Ğ¹Ğ½Ğµ ÑĞ¿Ñ–Ğ»ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ· ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ğ°Ğ¼Ğ¸ |
| H2 | **Voice/Video calls** | VoIP Ñ‡ĞµÑ€ĞµĞ· MTProto | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ğ´Ğ·Ğ²Ñ–Ğ½ĞºÑ–Ğ² (ÑĞºĞ»Ğ°Ğ´Ğ½Ğ¾, Ğ°Ğ»Ğµ Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾) |
| H3 | **Typing indicator** | `messages.setTyping` | "Ğ”Ñ€ÑƒĞºÑƒÑ”..." ÑÑ‚Ğ°Ñ‚ÑƒÑ | UX: Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ Ñ‰Ğ¾ "Ğ¿Ñ€Ğ°Ñ†ÑÑ Ğ½Ğ°Ğ´ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ´Ñ" |
| H4 | **Mark as read** | `messages.readHistory` | ĞŸĞ¾Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚Ğ¸ ÑĞº Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğµ | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ read Ğ¿Ñ–ÑĞ»Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ |
| H5 | **ĞÑ€Ñ…Ñ–Ğ²ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ‡Ğ°Ñ‚Ñ–Ğ²** | `folders.editPeerFolders` (archive) | ĞÑ€Ñ…Ñ–Ğ² | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ° Ğ¾Ñ€Ğ³Ğ°Ğ½Ñ–Ğ·Ğ°Ñ†Ñ–Ñ |
| H6 | **Mute/Unmute** | `account.updateNotifySettings` | ĞšĞµÑ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ·Ğ²ÑƒĞºĞ¾Ğ¼ | Silent monitoring |

---

## 3. Dual-Channel Architecture: Bot + User

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     NanoClaw Telegram Layer v2.5                    â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   telegram-bot.ts    â”‚    â”‚  telegram-user.ts    â”‚              â”‚
â”‚  â”‚   (Bot API, grammY)  â”‚    â”‚  (MTProto, GramJS)   â”‚              â”‚
â”‚  â”‚                      â”‚    â”‚                      â”‚              â”‚
â”‚  â”‚  Ğ ĞĞ›Ğ¬: UI + HITL     â”‚    â”‚  Ğ ĞĞ›Ğ¬: DATA + ACTION â”‚              â”‚
â”‚  â”‚                      â”‚    â”‚                      â”‚              â”‚
â”‚  â”‚  â€¢ Inline keyboards  â”‚    â”‚  â€¢ Message history   â”‚              â”‚
â”‚  â”‚  â€¢ Callback queries  â”‚    â”‚  â€¢ Member lists      â”‚              â”‚
â”‚  â”‚  â€¢ Mini Apps         â”‚    â”‚  â€¢ Global search     â”‚              â”‚
â”‚  â”‚  â€¢ Payments          â”‚    â”‚  â€¢ Channel stats     â”‚              â”‚
â”‚  â”‚  â€¢ Commands          â”‚    â”‚  â€¢ Join/leave groups â”‚              â”‚
â”‚  â”‚  â€¢ Webhooks          â”‚    â”‚  â€¢ Post as user      â”‚              â”‚
â”‚  â”‚  â€¢ File operations   â”‚    â”‚  â€¢ Stories           â”‚              â”‚
â”‚  â”‚  â€¢ Service events    â”‚    â”‚  â€¢ Profile mgmt      â”‚              â”‚
â”‚  â”‚  â€¢ HITL responses    â”‚    â”‚  â€¢ Contacts/Dialogs  â”‚              â”‚
â”‚  â”‚                      â”‚    â”‚  â€¢ Forum topics      â”‚              â”‚
â”‚  â”‚  Ğ¢Ğ Ğ˜Ğ“Ğ•Ğ :             â”‚    â”‚  â€¢ Export/Takeout     â”‚              â”‚
â”‚  â”‚  my_chat_member      â”‚    â”‚  â€¢ Large files (4GB) â”‚              â”‚
â”‚  â”‚  callback_query      â”‚    â”‚  â€¢ Init conversationsâ”‚              â”‚
â”‚  â”‚  message (commands)  â”‚    â”‚  â€¢ Read receipts     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚             â”‚                           â”‚                          â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                       â–¼                                            â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚              â”‚  channel-      â”‚                                    â”‚
â”‚              â”‚  coordinator.tsâ”‚  â† ĞĞĞ’Ğ˜Ğ™ ĞšĞĞœĞŸĞĞĞ•ĞĞ¢                 â”‚
â”‚              â”‚                â”‚                                    â”‚
â”‚              â”‚  â€¢ Routing     â”‚  Ğ’Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ”: Bot Ñ‡Ğ¸ User?            â”‚
â”‚              â”‚  â€¢ Dedup       â”‚  ĞĞµ Ğ´ÑƒĞ±Ğ»ÑĞ²Ğ°Ñ‚Ğ¸ events               â”‚
â”‚              â”‚  â€¢ Auth state  â”‚  User Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¹? Fallbackâ†’Bot    â”‚
â”‚              â”‚  â€¢ Rate limit  â”‚  User: 30 req/s, Bot: 30 req/s    â”‚
â”‚              â”‚  â€¢ Queue       â”‚  ĞŸÑ€Ñ–Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ²              â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                       â–¼                                            â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚              â”‚   NanoClaw     â”‚                                    â”‚
â”‚              â”‚   Core         â”‚                                    â”‚
â”‚              â”‚  (index.ts)    â”‚                                    â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ»Ñƒ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ñ–

```
ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ: "Bot Ğ´Ğ»Ñ Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ—, User Ğ´Ğ»Ñ Ğ´Ğ°Ğ½Ğ¸Ñ… Ñ– Ğ¿ÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ—"

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ—ĞĞŸĞ˜Ğ¢                          â”‚  ĞšĞĞĞĞ›     â”‚ Ğ§ĞĞœĞ£     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ñ‚Ğ¸ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ Ğ³Ñ€ÑƒĞ¿Ğ¸         â”‚ ğŸ‘¤ User    â”‚ Bot ğŸš«   â”‚
â”‚  ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ HITL-ĞºĞ½Ğ¾Ğ¿ĞºĞ¸           â”‚ ğŸ¤– Bot     â”‚ UX       â”‚
â”‚  ĞĞ¿ÑƒĞ±Ğ»Ñ–ĞºÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾ÑÑ‚ Ñƒ ĞºĞ°Ğ½Ğ°Ğ»Ñ–     â”‚ ğŸ‘¤ User    â”‚ Personal â”‚
â”‚  ĞŸÑ€Ğ¸Ğ¹Ğ½ÑÑ‚Ğ¸ callback Ğ²Ñ–Ğ´ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸   â”‚ ğŸ¤– Bot     â”‚ Ğ¢Ñ–Ğ»ÑŒĞºĞ¸   â”‚
â”‚  Ğ—Ğ½Ğ°Ğ¹Ñ‚Ğ¸ ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºÑ–Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¸         â”‚ ğŸ‘¤ User    â”‚ Bot ğŸš«   â”‚
â”‚  ĞĞ°Ğ´Ñ–ÑĞ»Ğ°Ñ‚Ğ¸ ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½Ğ½Ñ owner'Ñƒ   â”‚ ğŸ¤– Bot     â”‚ UX       â”‚
â”‚  Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° ĞºĞ°Ğ½Ğ°Ğ»Ñƒ              â”‚ ğŸ‘¤ User    â”‚ Bot ğŸš«   â”‚
â”‚  ĞŸĞ¾ÑˆÑƒĞº Ğ¿Ğ¾ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½ÑÑ…         â”‚ ğŸ‘¤ User    â”‚ Bot ğŸš«   â”‚
â”‚  Discovery Ğ¿Ñ€Ğ¸ Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ– Ğ±Ğ¾Ñ‚Ğ°   â”‚ ğŸ¤– Bot     â”‚ Trigger  â”‚
â”‚  â†’ Deep discovery (history)     â”‚ ğŸ‘¤ User    â”‚ Data     â”‚
â”‚  ĞŸĞµÑ€ĞµÑĞ»Ğ°Ñ‚Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ¼Ñ–Ğ¶ Ñ‡Ğ°Ñ‚Ğ°Ğ¼Ğ¸   â”‚ ğŸ‘¤ User    â”‚ Personal â”‚
â”‚  Stories                        â”‚ ğŸ‘¤ User    â”‚ Bot ğŸš«   â”‚
â”‚  Payments                       â”‚ ğŸ¤– Bot     â”‚ Ğ¢Ñ–Ğ»ÑŒĞºĞ¸   â”‚
â”‚  Mini Apps                      â”‚ ğŸ¤– Bot     â”‚ Ğ¢Ñ–Ğ»ÑŒĞºĞ¸   â”‚
â”‚  ĞŸÑ€Ğ¸Ñ”Ğ´Ğ½Ğ°Ñ‚Ğ¸ÑÑ Ğ´Ğ¾ Ğ½Ğ¾Ğ²Ğ¾Ñ— Ğ³Ñ€ÑƒĞ¿Ğ¸     â”‚ ğŸ‘¤ User    â”‚ Bot ğŸš«   â”‚
â”‚  ĞĞ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ñ„Ñ–Ğ»ÑŒ owner'Ğ°       â”‚ ğŸ‘¤ User    â”‚ Bot ğŸš«   â”‚
â”‚  ĞœĞ¾Ğ´ĞµÑ€Ğ°Ñ†Ñ–Ñ (ban/restrict)       â”‚ ğŸ¤– Bot     â”‚ ĞšÑ€Ğ°Ñ‰Ğ¸Ğ¹   â”‚
â”‚  Ğ¤Ğ°Ğ¹Ğ»Ğ¸ > 50MB                   â”‚ ğŸ‘¤ User    â”‚ Ğ›Ñ–Ğ¼Ñ–Ñ‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ñ‚Ğ° Ğ±ĞµĞ·Ğ¿ĞµĞºĞ°

### 4.1 ĞŸÑ€Ğ¾Ñ†ĞµÑ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ (Ğ¾Ğ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ¾)

```
ĞšĞ ĞĞš 1: Owner Ğ¿Ğ¸ÑˆĞµ Ğ±Ğ¾Ñ‚Ñƒ: "ĞŸÑ–Ğ´ĞºĞ»ÑÑ‡Ğ¸ Ğ¼Ñ–Ğ¹ Ğ°ĞºĞ°ÑƒĞ½Ñ‚"
         â”‚
         â–¼
ĞšĞ ĞĞš 2: Bot Ğ¿Ğ¾ĞºĞ°Ğ·ÑƒÑ” HITL:
         "âš ï¸ Ğ¦Ğµ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ²Ğ°Ñˆ ĞĞ¡ĞĞ‘Ğ˜Ğ¡Ğ¢Ğ˜Ğ™ Telegram Ğ°ĞºĞ°ÑƒĞ½Ñ‚.
          NanoClaw Ğ·Ğ¼Ğ¾Ğ¶Ğµ:
          â€¢ Ğ§Ğ¸Ñ‚Ğ°Ñ‚Ğ¸ Ğ²Ğ°ÑˆÑ– Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ñ‚Ğ° Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ
          â€¢ ĞŸÑƒĞ±Ğ»Ñ–ĞºÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ²Ñ–Ğ´ Ğ²Ğ°ÑˆĞ¾Ğ³Ğ¾ Ñ–Ğ¼ĞµĞ½Ñ–  
          â€¢ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚Ğ¸ Ğ³Ñ€ÑƒĞ¿Ğ°Ğ¼Ğ¸ Ñ‚Ğ° ĞºĞ°Ğ½Ğ°Ğ»Ğ°Ğ¼Ğ¸
          â€¢ Ğ‘Ğ°Ñ‡Ğ¸Ñ‚Ğ¸ Ğ²Ğ°ÑˆÑ– ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ¸
          
          [âœ… Ğ Ğ¾Ğ·ÑƒĞ¼Ñ–Ñ, Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶Ğ¸Ñ‚Ğ¸] [âŒ Ğ¡ĞºĞ°ÑÑƒĞ²Ğ°Ñ‚Ğ¸]"
         â”‚
         â–¼
ĞšĞ ĞĞš 3: Bot Ğ·Ğ°Ğ¿Ğ¸Ñ‚ÑƒÑ” Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½:
         "Ğ’Ğ²ĞµĞ´Ñ–Ñ‚ÑŒ Ğ½Ğ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ñƒ Ğ²Ğ°ÑˆĞ¾Ğ³Ğ¾ Telegram Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ğ°:"
         Owner: "+380XXXXXXXXX"
         â”‚
         â–¼
ĞšĞ ĞĞš 4: GramJS â†’ auth.sendCode(phone) â†’ Telegram Ğ½Ğ°Ğ´ÑĞ¸Ğ»Ğ°Ñ” ĞºĞ¾Ğ´
         Bot: "Ğ’Ğ²ĞµĞ´Ñ–Ñ‚ÑŒ ĞºĞ¾Ğ´ Ğ· Telegram (ĞĞ• Ğ· SMS, Ğ° Ğ· Ñ‡Ğ°Ñ‚Ñƒ):"
         Owner: "12345"
         â”‚
         â–¼
ĞšĞ ĞĞš 5: Ğ¯ĞºÑ‰Ğ¾ 2FA â†’ Bot: "Ğ’Ğ²ĞµĞ´Ñ–Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ 2FA:"
         â”‚
         â–¼
ĞšĞ ĞĞš 6: auth.signIn â†’ StringSession Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ¾
         Bot: "âœ… ĞĞºĞ°ÑƒĞ½Ñ‚ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾! Ğ¢ĞµĞ¿ĞµÑ€ Ñ Ğ±Ğ°Ñ‡Ñƒ 47 Ğ³Ñ€ÑƒĞ¿, 
               12 ĞºĞ°Ğ½Ğ°Ğ»Ñ–Ğ², 234 ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ¸."
         â”‚
         â–¼
ĞšĞ ĞĞš 7: StringSession â†’ Ğ·Ğ°ÑˆĞ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ â†’ 
         data/user-session.enc (AES-256, ĞºĞ»ÑÑ‡ Ğ² env)
```

### 4.2 Ğ—Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ğ½Ğ½Ñ ÑĞµÑÑ–Ñ—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ‘Ğ•Ğ—ĞŸĞ•ĞšĞ Ğ¡Ğ•Ğ¡Ğ†Ğ‡                                          â”‚
â”‚                                                         â”‚
â”‚  StringSession = Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ¾ Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ğ°               â”‚
â”‚  ĞšĞ¾Ğ¼Ğ¿Ñ€Ğ¾Ğ¼ĞµÑ‚Ğ°Ñ†Ñ–Ñ = Ğ²Ñ‚Ñ€Ğ°Ñ‚Ğ° Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ğ°                         â”‚
â”‚                                                         â”‚
â”‚  Ğ—Ğ‘Ğ•Ğ Ğ†Ğ“ĞĞĞĞ¯:                                            â”‚
â”‚  â”œâ”€â”€ data/user-session.enc  â† AES-256-GCM              â”‚
â”‚  â”œâ”€â”€ ĞšĞ»ÑÑ‡ ÑˆĞ¸Ñ„Ñ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ â†’ NANOCLAW_SESSION_KEY env var     â”‚
â”‚  â”œâ”€â”€ ĞĞ• Ğ² SQLite (Ğ½Ğ°Ğ´Ñ‚Ğ¾ Ğ»ĞµĞ³ĞºĞ¾ ÑĞºĞ¾Ğ¿Ñ–ÑĞ²Ğ°Ñ‚Ğ¸)               â”‚
â”‚  â”œâ”€â”€ ĞĞ• Ğ² CLAUDE.md (Ñ‡Ğ¸Ñ‚Ğ°ÑÑ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸)                â”‚
â”‚  â””â”€â”€ ĞĞ• Ğ² Git (Ğ¾Ñ‡ĞµĞ²Ğ¸Ğ´Ğ½Ğ¾)                               â”‚
â”‚                                                         â”‚
â”‚  Ğ”ĞĞ¡Ğ¢Ğ£ĞŸ:                                                â”‚
â”‚  â”œâ”€â”€ Ğ¢Ñ–Ğ»ÑŒĞºĞ¸ Ñ…Ğ¾ÑÑ‚-Ğ¿Ñ€Ğ¾Ñ†ĞµÑ (index.ts / telegram-user.ts)   â”‚
â”‚  â”œâ”€â”€ ĞĞ†ĞšĞĞ›Ğ˜ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ”Ñ‚ÑŒÑÑ Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸                 â”‚
â”‚  â”œâ”€â”€ ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑÑ‚ÑŒ IPC Ğ´Ğ»Ñ user-Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ²     â”‚
â”‚  â””â”€â”€ Rate limiting Ğ½Ğ° Ñ€Ñ–Ğ²Ğ½Ñ– coordinator                  â”‚
â”‚                                                         â”‚
â”‚  Ğ’Ğ†Ğ”ĞšĞ›Ğ®Ğ§Ğ•ĞĞĞ¯:                                           â”‚
â”‚  â”œâ”€â”€ Owner: "Ğ’Ñ–Ğ´ĞºĞ»ÑÑ‡Ğ¸ Ğ¼Ñ–Ğ¹ Ğ°ĞºĞ°ÑƒĞ½Ñ‚"                       â”‚
â”‚  â”œâ”€â”€ â†’ auth.logOut() â†’ Ğ²Ğ¸Ğ´Ğ°Ğ»Ğ¸Ñ‚Ğ¸ session Ñ„Ğ°Ğ¹Ğ»            â”‚
â”‚  â””â”€â”€ â†’ Bot Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ÑƒÑ” Ğ¿Ñ€Ğ°Ñ†ÑĞ²Ğ°Ñ‚Ğ¸ ÑĞ°Ğ¼Ğ¾ÑÑ‚Ñ–Ğ¹Ğ½Ğ¾               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Anti-ban ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ñ–Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ: Ğ Ğ˜Ğ—Ğ˜ĞšĞ˜ Ğ‘ĞĞĞ£ USERBOT-ĞĞšĞĞ£ĞĞ¢Ğ£              â”‚
â”‚                                                         â”‚
â”‚  Telegram Ğ¼Ğ¾Ğ¶Ğµ Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ°ĞºĞ°ÑƒĞ½Ñ‚ Ğ·Ğ°:                   â”‚
â”‚  â€¢ ĞœĞ°ÑĞ¾Ğ²Ğ¸Ğ¹ ÑĞ¿Ğ°Ğ¼ (Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ½ĞµĞ·Ğ½Ğ°Ğ¹Ğ¾Ğ¼Ğ¸Ğ¼)                â”‚
â”‚  â€¢ ĞœĞ°ÑĞ¾Ğ²Ğµ Ğ¿Ñ€Ğ¸Ñ”Ğ´Ğ½Ğ°Ğ½Ğ½Ñ Ğ´Ğ¾ Ğ³Ñ€ÑƒĞ¿ (>5-10/Ğ´ĞµĞ½ÑŒ)               â”‚
â”‚  â€¢ ĞœĞ°ÑĞ¾Ğ²Ğµ Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ğ»ÑĞ´ĞµĞ¹ Ñƒ Ğ³Ñ€ÑƒĞ¿Ğ¸                       â”‚
â”‚  â€¢ ĞĞ³Ñ€ĞµÑĞ¸Ğ²Ğ½Ğ¸Ğ¹ scraping (Ñ‚Ğ¸ÑÑÑ‡Ñ– Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ²)                  â”‚
â”‚  â€¢ Flood wait Ñ–Ğ³Ğ½Ğ¾Ñ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ                               â”‚
â”‚  â€¢ VOIP Ğ½Ğ¾Ğ¼ĞµÑ€Ğ¸ (Ğ¿Ñ–Ğ´Ğ²Ğ¸Ñ‰ĞµĞ½Ğ¸Ğ¹ Ñ€Ğ¸Ğ·Ğ¸Ğº)                       â”‚
â”‚                                                         â”‚
â”‚  NANOCLAW ANTI-BAN ĞŸĞ ĞĞ¢ĞĞšĞĞ›:                            â”‚
â”‚                                                         â”‚
â”‚  1. RATE LIMITING (Ğ¶Ğ¾Ñ€ÑÑ‚ĞºĞ¸Ğ¹)                            â”‚
â”‚     â”œâ”€â”€ messages.getHistory: max 3 req/min per chat     â”‚
â”‚     â”œâ”€â”€ channels.getParticipants: max 1 req/30sec       â”‚
â”‚     â”œâ”€â”€ channels.joinChannel: max 3/Ğ´ĞµĞ½ÑŒ                â”‚
â”‚     â”œâ”€â”€ messages.sendMessage (Ğ½Ğ¾Ğ²Ñ– Ñ‡Ğ°Ñ‚Ğ¸): max 5/Ğ´ĞµĞ½ÑŒ    â”‚
â”‚     â”œâ”€â”€ Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾: max 30 req/sec (TG Ğ»Ñ–Ğ¼Ñ–Ñ‚)           â”‚
â”‚     â””â”€â”€ FloodWait â†’ respect + exponential backoff       â”‚
â”‚                                                         â”‚
â”‚  2. HUMAN-LIKE BEHAVIOR                                 â”‚
â”‚     â”œâ”€â”€ Random delays Ğ¼Ñ–Ğ¶ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ°Ğ¼Ğ¸ (0.5-3 ÑĞµĞº)          â”‚
â”‚     â”œâ”€â”€ messages.readHistory Ğ¿Ñ–ÑĞ»Ñ getHistory            â”‚
â”‚     â”œâ”€â”€ Typing indicator Ğ¿ĞµÑ€ĞµĞ´ sendMessage               â”‚
â”‚     â”œâ”€â”€ ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ–ÑÑ‚ÑŒ Ñƒ Ñ€Ğ¾Ğ±Ğ¾Ñ‡Ñ– Ğ³Ğ¾Ğ´Ğ¸Ğ½Ğ¸ (configurable)       â”‚
â”‚     â””â”€â”€ ĞĞµ Ğ±Ñ–Ğ»ÑŒÑˆĞµ N Ğ½Ğ¾Ğ²Ğ¸Ñ… Ñ‡Ğ°Ñ‚Ñ–Ğ²/Ğ´ĞµĞ½ÑŒ                    â”‚
â”‚                                                         â”‚
â”‚  3. HITL Ğ”Ğ›Ğ¯ Ğ Ğ˜Ğ—Ğ˜ĞšĞĞ’ĞĞĞ˜Ğ¥ Ğ”Ğ†Ğ™                           â”‚
â”‚     â”œâ”€â”€ ĞŸÑ€Ğ¸Ñ”Ğ´Ğ½Ğ°Ñ‚Ğ¸ÑÑ Ğ´Ğ¾ Ğ³Ñ€ÑƒĞ¿Ğ¸ â†’ Ğ¿Ñ–Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¶ĞµĞ½Ğ½Ñ owner      â”‚
â”‚     â”œâ”€â”€ ĞĞ°Ğ´Ñ–ÑĞ»Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ¼Ñƒ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñƒ â†’ HITL   â”‚
â”‚     â”œâ”€â”€ ĞœĞ°ÑĞ¾Ğ²Ğ¸Ğ¹ scraping â†’ HITL + Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑ-Ğ±Ğ°Ñ€           â”‚
â”‚     â””â”€â”€ Ğ‘ÑƒĞ´ÑŒ-ÑĞºĞ° Ğ´Ñ–Ñ Ğ· < MEDIUM risk â†’ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾      â”‚
â”‚                                                         â”‚
â”‚  4. GRACEFUL DEGRADATION                                â”‚
â”‚     â”œâ”€â”€ FloodWait â†’ pause + notify owner                â”‚
â”‚     â”œâ”€â”€ Ğ‘Ğ°Ğ½ â†’ fallback Ğ½Ğ° Bot API only                  â”‚
â”‚     â”œâ”€â”€ Session expired â†’ re-auth flow                  â”‚
â”‚     â””â”€â”€ Ğ§Ğ°ÑÑ‚ĞºĞ¾Ğ²Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ–ÑÑ‚ÑŒ > Ğ¿Ğ¾Ğ²Ğ½Ğ° Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ–ÑÑ‚ÑŒ      â”‚
â”‚                                                         â”‚
â”‚  5. RISK CLASSIFICATION                                 â”‚
â”‚     â”œâ”€â”€ ğŸŸ¢ LOW: getHistory, search, getParticipants     â”‚
â”‚     â”‚   (read-only, nature usage)                       â”‚
â”‚     â”œâ”€â”€ ğŸŸ¡ MEDIUM: sendMessage (existing chats),        â”‚
â”‚     â”‚   forwardMessages, editMessage                    â”‚
â”‚     â”œâ”€â”€ ğŸ”´ HIGH: joinChannel, sendMessage (new chats),  â”‚
â”‚     â”‚   bulk operations, addChatUser                    â”‚
â”‚     â””â”€â”€ â›” BLOCKED: mass invite, spam, scraping all     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. IPC-Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ: ÑĞº ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑÑ‚ÑŒ User API

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ĞŸĞ ĞĞ‘Ğ›Ğ•ĞœĞ:                                              â”‚
â”‚  ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸ ĞĞ• Ğ¼Ğ°ÑÑ‚ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ Ğ´Ğ¾ user session.           â”‚
â”‚  ĞĞ»Ğµ skills Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‚ÑŒ user-only Ğ´Ğ°Ğ½Ğ¸Ñ….                  â”‚
â”‚                                                         â”‚
â”‚  Ğ Ğ†Ğ¨Ğ•ĞĞĞ¯: Ğ Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ IPC Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ñƒ                      â”‚
â”‚                                                         â”‚
â”‚  ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ·Ğ°Ğ¿Ğ¸ÑÑƒÑ” JSON Ñƒ IPC_DIR/user-requests/        â”‚
â”‚  Ğ¥Ğ¾ÑÑ‚ (telegram-user.ts) Ğ²Ğ¸ĞºĞ¾Ğ½ÑƒÑ” Ğ·Ğ°Ğ¿Ğ¸Ñ‚                  â”‚
â”‚  Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ â†’ IPC_DIR/user-responses/{request_id}.json   â”‚
â”‚  ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ñ‡Ğ¸Ñ‚Ğ°Ñ” Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚                              â”‚
â”‚                                                         â”‚
â”‚  ĞĞĞ’Ğ† IPC-MCP Ğ†ĞĞ¡Ğ¢Ğ Ğ£ĞœĞ•ĞĞ¢Ğ˜ (ipc-mcp.ts):                â”‚
â”‚                                                         â”‚
â”‚  tg_get_history(chat_id, limit, offset_date)            â”‚
â”‚    â†’ ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” Ğ¼Ğ°ÑĞ¸Ğ² Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ                         â”‚
â”‚                                                         â”‚
â”‚  tg_search_messages(chat_id, query, limit, filter)      â”‚
â”‚    â†’ ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾ÑˆÑƒĞºÑƒ                         â”‚
â”‚                                                         â”‚
â”‚  tg_get_participants(chat_id, filter, limit, offset)    â”‚
â”‚    â†’ ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” ÑĞ¿Ğ¸ÑĞ¾Ğº ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºÑ–Ğ²                          â”‚
â”‚                                                         â”‚
â”‚  tg_get_channel_stats(chat_id)                          â”‚
â”‚    â†’ ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ ĞºĞ°Ğ½Ğ°Ğ»Ñƒ                         â”‚
â”‚                                                         â”‚
â”‚  tg_get_post_stats(chat_id, msg_id)                     â”‚
â”‚    â†’ ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ Ğ¿Ğ¾ÑÑ‚Ğ°                          â”‚
â”‚                                                         â”‚
â”‚  tg_get_forum_topics(chat_id)                           â”‚
â”‚    â†’ ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ‚Ğ¾Ğ¿Ñ–ĞºÑ–Ğ² Ñ„Ğ¾Ñ€ÑƒĞ¼Ñƒ                     â”‚
â”‚                                                         â”‚
â”‚  tg_get_dialogs(limit, folder_id)                       â”‚
â”‚    â†’ ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ´Ñ–Ğ°Ğ»Ğ¾Ğ³Ñ–Ğ²                           â”‚
â”‚                                                         â”‚
â”‚  tg_send_as_user(chat_id, text, reply_to)               â”‚
â”‚    â†’ ĞŸÑƒĞ±Ğ»Ñ–ĞºÑƒÑ” Ğ²Ñ–Ğ´ Ñ–Ğ¼ĞµĞ½Ñ– user (ğŸŸ¡ MEDIUM risk)           â”‚
â”‚                                                         â”‚
â”‚  tg_forward_messages(from_chat, to_chat, msg_ids)       â”‚
â”‚    â†’ ĞŸĞµÑ€ĞµÑĞ¸Ğ»Ğ°Ñ” Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ                            â”‚
â”‚                                                         â”‚
â”‚  tg_join_channel(channel_username)                       â”‚
â”‚    â†’ ĞŸÑ€Ğ¸Ñ”Ğ´Ğ½ÑƒÑ”Ñ‚ÑŒÑÑ Ğ´Ğ¾ ĞºĞ°Ğ½Ğ°Ğ»Ñƒ (ğŸ”´ HIGH, Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒÑ” HITL)    â”‚
â”‚                                                         â”‚
â”‚  tg_get_similar_channels(channel_id)                     â”‚
â”‚    â†’ ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ğ½Ñ– ĞºĞ°Ğ½Ğ°Ğ»Ğ¸                      â”‚
â”‚                                                         â”‚
â”‚  tg_resolve_username(username)                           â”‚
â”‚    â†’ ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” Ğ¿Ğ¾Ğ²Ğ½Ñƒ Ñ–Ğ½Ñ„Ğ¾ Ğ¿Ñ€Ğ¾ ÑĞ·ĞµÑ€Ğ°/ĞºĞ°Ğ½Ğ°Ğ»               â”‚
â”‚                                                         â”‚
â”‚  tg_update_profile(first_name, last_name, about)         â”‚
â”‚    â†’ ĞĞ½Ğ¾Ğ²Ğ»ÑÑ” Ğ¿Ñ€Ğ¾Ñ„Ñ–Ğ»ÑŒ (ğŸŸ¡ MEDIUM)                        â”‚
â”‚                                                         â”‚
â”‚  tg_publish_story(media, caption, privacy)               â”‚
â”‚    â†’ ĞŸÑƒĞ±Ğ»Ñ–ĞºÑƒÑ” Story (ğŸŸ¡ MEDIUM)                         â”‚
â”‚                                                         â”‚
â”‚  ĞĞ’Ğ¢ĞĞ Ğ˜Ğ—ĞĞ¦Ğ†Ğ¯ IPC-Ğ—ĞĞŸĞ˜Ğ¢Ğ†Ğ’:                               â”‚
â”‚  â”œâ”€â”€ Main group â†’ Ğ²ÑÑ– Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¸                       â”‚
â”‚  â”œâ”€â”€ Non-main group â†’ read-only (get_*, search_*)       â”‚
â”‚  â”‚   + send_as_user Ğ¢Ğ†Ğ›Ğ¬ĞšĞ˜ Ñƒ ÑĞ²Ñ–Ğ¹ Ñ‡Ğ°Ñ‚                   â”‚
â”‚  â””â”€â”€ Risk HIGH â†’ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒÑ” HITL Ğ½Ğ°Ğ²Ñ–Ñ‚ÑŒ Ğ²Ñ–Ğ´ main group    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° â€” Ğ·Ğ¼Ñ–Ğ½Ğ¸

```
nanoclaw/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts                    â† Ğ”Ğ¾Ğ´Ğ°Ñ” Ñ–Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ user client
â”‚   â”œâ”€â”€ channels/
â”‚   â”‚   â”œâ”€â”€ telegram-bot.ts         â† ĞŸĞ•Ğ Ğ•Ğ™ĞœĞ•ĞĞĞ’ĞĞĞ Ğ· telegram.ts
â”‚   â”‚   â””â”€â”€ telegram-user.ts       â† ğŸ†• MTProto ĞºĞ»Ñ–Ñ”Ğ½Ñ‚ (GramJS)
â”‚   â”œâ”€â”€ channel-coordinator.ts     â† ğŸ†• Ğ Ğ¾ÑƒÑ‚Ğ¸Ğ½Ğ³ Botâ†”User
â”‚   â”œâ”€â”€ container-runner.ts
â”‚   â”œâ”€â”€ task-scheduler.ts
â”‚   â”œâ”€â”€ group-queue.ts
â”‚   â”œâ”€â”€ router.ts                   â† Ğ Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ¾: routing Ñ‡ĞµÑ€ĞµĞ· coordinator
â”‚   â”œâ”€â”€ ipc.ts                      â† Ğ Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ¾: user-requests/responses
â”‚   â”œâ”€â”€ db.ts                       â† Ğ Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ¾: user_session table
â”‚   â”œâ”€â”€ config.ts                   â† Ğ Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ¾: rate limits, risk levels
â”‚   â”œâ”€â”€ types.ts                    â† Ğ Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ¾: MTProto types
â”‚   â””â”€â”€ anti-ban.ts                â† ğŸ†• Rate limiting + risk engine
â”‚
â”œâ”€â”€ container/
â”‚   â”œâ”€â”€ agent-runner/
â”‚   â”‚   â”œâ”€â”€ src/index.ts
â”‚   â”‚   â””â”€â”€ ipc-mcp.ts             â† Ğ Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ¾: tg_* Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¸
â”‚   â””â”€â”€ skills/
â”‚       â””â”€â”€ agent-browser.md
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ nanoclaw.db
â”‚   â”œâ”€â”€ user-session.enc           â† ğŸ†• Ğ—Ğ°ÑˆĞ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ° GramJS session
â”‚   â”œâ”€â”€ registered_groups.json
â”‚   â””â”€â”€ sessions/
â”‚
â””â”€â”€ .env                            â† NANOCLAW_SESSION_KEY
```

---

## 7. telegram-user.ts â€” Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°

```typescript
// ĞŸÑĞµĞ²Ğ´Ğ¾ĞºĞ¾Ğ´ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸ telegram-user.ts

import { TelegramClient, StringSession } from 'telegram';
import { NewMessage } from 'telegram/events';

class TelegramUserClient {
  private client: TelegramClient;
  private connected: boolean = false;
  private rateLimiter: RateLimiter;    // anti-ban.ts
  private riskEngine: RiskEngine;      // anti-ban.ts

  // â•â•â• LIFECYCLE â•â•â•
  async connect(encryptedSession: Buffer): Promise<void>
  async disconnect(): Promise<void>
  async authorize(phone: string): Promise<AuthFlow>  // Interactive
  isConnected(): boolean

  // â•â•â• ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ†Ğ¯ A: Ğ†Ğ¡Ğ¢ĞĞ Ğ†Ğ¯ Ğ¢Ğ ĞŸĞĞ¨Ğ£Ğš â•â•â•
  async getHistory(chatId, limit, offsetDate?): Promise<Message[]>
  async searchMessages(chatId, query, filter?, limit?): Promise<Message[]>
  async searchGlobal(query, filter?, limit?): Promise<Message[]>
  async getMessageById(chatId, msgId): Promise<Message>
  async getDialogs(limit?, folderId?): Promise<Dialog[]>
  async getPinnedMessages(chatId): Promise<Message[]>

  // â•â•â• ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ†Ğ¯ B: Ğ£Ğ§ĞĞ¡ĞĞ˜ĞšĞ˜ â•â•â•
  async getParticipants(chatId, filter?, limit?, offset?): Promise<Participant[]>
  async searchParticipants(chatId, query): Promise<Participant[]>
  async getContacts(): Promise<Contact[]>
  async resolveUsername(username): Promise<Entity>
  async resolvePhone(phone): Promise<Entity>
  async getReadParticipants(chatId, msgId): Promise<User[]>

  // â•â•â• ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ†Ğ¯ C: Ğ“Ğ Ğ£ĞŸĞ˜ Ğ¢Ğ ĞšĞĞĞĞ›Ğ˜ â•â•â•
  async getFullChannel(chatId): Promise<ChannelFull>
  async getForumTopics(chatId): Promise<ForumTopic[]>
  async getChannelStats(chatId): Promise<BroadcastStats>
  async getPostStats(chatId, msgId): Promise<MessageStats>
  async getPublicForwards(chatId, msgId): Promise<Forward[]>
  async getSimilarChannels(chatId): Promise<Channel[]>
  async joinChannel(username): Promise<void>  // ğŸ”´ HIGH RISK
  async leaveChannel(chatId): Promise<void>
  async createChannel(title, about, megagroup?): Promise<Channel>
  async editChannelInfo(chatId, title?, about?, photo?): Promise<void>
  async getInviteLinks(chatId): Promise<InviteLink[]>

  // â•â•â• ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ†Ğ¯ D: ĞšĞĞĞ¢Ğ•ĞĞ¢ â•â•â•
  async sendMessage(chatId, text, replyTo?, schedule?): Promise<Message>
  async forwardMessages(fromChat, toChat, msgIds): Promise<Message[]>
  async editMessage(chatId, msgId, text): Promise<Message>
  async deleteMessages(chatId, msgIds): Promise<void>
  async sendReaction(chatId, msgId, emoji): Promise<void>
  async saveDraft(chatId, text): Promise<void>
  async setTyping(chatId): Promise<void>  // Human-like
  async markAsRead(chatId, maxId): Promise<void>

  // â•â•â• ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ†Ğ¯ D (STORIES) â•â•â•
  async sendStory(media, caption, privacy): Promise<Story>
  async getPeerStories(userId): Promise<Story[]>
  async getStoriesViews(storyIds): Promise<StoryViews[]>

  // â•â•â• ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ†Ğ¯ E: ĞœĞ•Ğ”Ğ†Ğ â•â•â•
  async downloadMedia(message, outputPath): Promise<string>  // Up to 4GB
  async uploadFile(filePath): Promise<InputFile>  // Up to 4GB

  // â•â•â• ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ†Ğ¯ F: ĞŸĞ ĞĞ¤Ğ†Ğ›Ğ¬ â•â•â•
  async updateProfile(firstName?, lastName?, about?): Promise<void>
  async uploadProfilePhoto(filePath): Promise<void>
  async updateUsername(username): Promise<void>
  async setPrivacy(key, rules): Promise<void>
  async manageFolders(folderId, peers): Promise<void>

  // â•â•â• ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ†Ğ¯ G: Ğ ĞĞ—Ğ’Ğ†Ğ”ĞšĞ â•â•â•
  async getTopPeers(category): Promise<TopPeer[]>
  async initTakeout(): Promise<TakeoutSession>
}
```

---

## 8. channel-coordinator.ts â€” Ğ»Ğ¾Ğ³Ñ–ĞºĞ° Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ROUTING DECISION TREE                                  â”‚
â”‚                                                         â”‚
â”‚  Ğ’Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ğ·Ğ°Ğ¿Ğ¸Ñ‚ Ğ²Ñ–Ğ´ NanoClaw core                        â”‚
â”‚       â”‚                                                 â”‚
â”‚       â–¼                                                 â”‚
â”‚  User client Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¹?                               â”‚
â”‚  â”œâ”€â”€ âŒ ĞĞ† â†’ Bot only (Phase 2 Ğ¿Ğ¾Ğ²ĞµĞ´Ñ–Ğ½ĞºĞ°)               â”‚
â”‚  â””â”€â”€ âœ… Ğ¢ĞĞš â†“                                           â”‚
â”‚       â”‚                                                 â”‚
â”‚       â–¼                                                 â”‚
â”‚  Ğ¢Ğ¸Ğ¿ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ñ—?                                          â”‚
â”‚  â”œâ”€â”€ READ (history, search, stats) â†’ ğŸ‘¤ User            â”‚
â”‚  â”œâ”€â”€ WRITE Ğº Ñ–ÑĞ½ÑƒÑÑ‡Ğ¾Ğ¼Ñƒ Ñ‡Ğ°Ñ‚Ñƒ â†’ ğŸ‘¤ User (personal brand)  â”‚
â”‚  â”‚   ĞĞ‘Ğ ğŸ¤– Bot (ÑĞºÑ‰Ğ¾ Ñ‚Ñ€ĞµĞ±Ğ° inline keyboards)           â”‚
â”‚  â”œâ”€â”€ HITL (ĞºĞ½Ğ¾Ğ¿ĞºĞ¸, callback) â†’ ğŸ¤– Bot                  â”‚
â”‚  â”œâ”€â”€ PAYMENTS â†’ ğŸ¤– Bot                                  â”‚
â”‚  â”œâ”€â”€ MINI APPS â†’ ğŸ¤– Bot                                 â”‚
â”‚  â”œâ”€â”€ SERVICE (webhooks, commands) â†’ ğŸ¤– Bot              â”‚
â”‚  â””â”€â”€ USER-ONLY (profile, stories, join) â†’ ğŸ‘¤ User       â”‚
â”‚                                                         â”‚
â”‚  Rate limit check â†’ anti-ban.ts                         â”‚
â”‚  â”œâ”€â”€ OK â†’ execute                                       â”‚
â”‚  â”œâ”€â”€ FloodWait â†’ delay + retry                          â”‚
â”‚  â””â”€â”€ Daily limit reached â†’ queue for tomorrow           â”‚
â”‚                                                         â”‚
â”‚  Risk check â†’ anti-ban.ts                               â”‚
â”‚  â”œâ”€â”€ ğŸŸ¢ LOW â†’ execute immediately                       â”‚
â”‚  â”œâ”€â”€ ğŸŸ¡ MEDIUM â†’ execute + log                          â”‚
â”‚  â”œâ”€â”€ ğŸ”´ HIGH â†’ HITL confirmation required               â”‚
â”‚  â””â”€â”€ â›” BLOCKED â†’ reject + warn                         â”‚
â”‚                                                         â”‚
â”‚  Deduplication:                                         â”‚
â”‚  â”œâ”€â”€ Bot Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ² message event                          â”‚
â”‚  â”œâ”€â”€ User Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ² Ñ‚Ğµ ÑĞ°Ğ¼Ğµ ÑĞº MTProto update             â”‚
â”‚  â””â”€â”€ coordinator â†’ process once, discard duplicate      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. Discovery Pipeline v2: Bot + User

Phase 2 Group Discovery Pipeline Ğ¾Ñ‚Ñ€Ğ¸Ğ¼ÑƒÑ” **ÑÑƒÑ‚Ñ‚Ñ”Ğ²Ğµ Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ**:

```
STAGE 1: DETECT (Ğ±ĞµĞ· Ğ·Ğ¼Ñ–Ğ½ â€” telegram-bot.ts, my_chat_member)

STAGE 2: ASK DEPTH (Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€ÑÑ”Ñ‚ÑŒÑÑ)
  â”œâ”€â”€ âš¡ QUICK: Bot API metadata (Ğ±ĞµĞ· Ğ·Ğ¼Ñ–Ğ½)
  â”œâ”€â”€ ğŸ“Š STANDARD: Bot API + User metadata
  â”‚   ĞĞĞ’Ğ•: + getFullChannel (Ğ¿Ğ¾Ğ²Ğ½Ğ° Ñ–Ğ½Ñ„Ğ¾)
  â”‚         + getForumTopics (Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº!)
  â”‚         + getParticipants (Ğ¿ĞµÑ€ÑˆÑ– 200)
  â”‚         + Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ– 50 Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ (getHistory)
  â””â”€â”€ ğŸ”¬ FULL: Standard + Deep analysis
      ĞĞĞ’Ğ•: + getHistory (Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ– 500-1000 Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ)
            + searchMessages (ĞºĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ñ‚ĞµĞ¼Ğ¸)
            + getParticipants (Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº)
            + getChannelStats (ÑĞºÑ‰Ğ¾ ĞºĞ°Ğ½Ğ°Ğ»)
            + getSimilarChannels (ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ¸)
            + getInviteLinks (Ğ´Ğ¶ĞµÑ€ĞµĞ»Ğ° Ñ‚Ñ€Ğ°Ñ„Ñ–ĞºÑƒ)
            + getPeerStories (Stories Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·)
            + structured interview (HITL, Ğ±ĞµĞ· Ğ·Ğ¼Ñ–Ğ½)

STAGE 3: HARVEST (Ğ·Ğ½Ğ°Ñ‡Ğ½Ğ¾ Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€ÑÑ”Ñ‚ÑŒÑÑ)
  Bot API: getChat, getChatMemberCount, getChatAdministrators
  MTProto: getFullChannel, getForumTopics, getParticipants,
           getHistory, searchMessages, stats.*

STAGE 4-6: Ğ±ĞµĞ· Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ğ¸Ñ… Ğ·Ğ¼Ñ–Ğ½, Ğ°Ğ»Ğµ ĞĞĞ‘ĞĞ“ĞĞ¢Ğ Ğ±Ñ–Ğ»ÑŒÑˆĞµ Ğ´Ğ°Ğ½Ğ¸Ñ…
```

---

## 10. ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ñ– use-cases Ğ· User API

### Use-Case 1: ĞšĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ğ° Ñ€Ğ¾Ğ·Ğ²Ñ–Ğ´ĞºĞ° (Ğ›Ğ°Ğ½ĞºĞ° â‘  Marketing Chain)

```
Owner: "@Andy Ğ¿Ñ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·ÑƒĞ¹ ĞºĞ°Ğ½Ğ°Ğ» @competitor_channel"

NanoClaw (Ñ‡ĞµÑ€ĞµĞ· User API):
1. resolveUsername("competitor_channel") â†’ channel info
2. getFullChannel â†’ Ğ¿Ğ¾Ğ²Ğ½Ğ° Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ñ‚Ğ°
3. getHistory(limit=500) â†’ Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ– 500 Ğ¿Ğ¾ÑÑ‚Ñ–Ğ²
4. getChannelStats â†’ views, growth, engagement
5. getParticipants(limit=200) â†’ top ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºĞ¸
6. getSimilarChannels â†’ ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ğ° Ğ¼Ğ°Ğ¿Ğ°
7. searchMessages("Ñ†Ñ–Ğ½Ğ° OR pricing OR Ğ²Ğ°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ") â†’ pricing mentions

Claude Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·ÑƒÑ” â†’ Ğ·Ğ²Ñ–Ñ‚:
  â€¢ Ğ§Ğ°ÑÑ‚Ğ¾Ñ‚Ğ° Ğ¿Ğ¾ÑÑ‚Ñ–Ğ½Ğ³Ñƒ: 3.2 Ğ¿Ğ¾ÑÑ‚Ğ¸/Ğ´ĞµĞ½ÑŒ
  â€¢ ĞŸÑ–Ğº engagement: Ğ²Ñ–Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğº 10:00-12:00
  â€¢ Top Ñ‚ĞµĞ¼Ğ¸: AI tools (34%), productivity (28%), pricing (18%)
  â€¢ Growth: +12% Ğ·Ğ° Ğ¼Ñ–ÑÑÑ†ÑŒ
  â€¢ Similar channels: [@ch1, @ch2, @ch3]
  â€¢ Pricing Ğ·Ğ³Ğ°Ğ´ĞºĞ¸: "$99/Ğ¼ĞµÑ", "Ğ±ĞµĞ·ĞºĞ¾ÑˆÑ‚Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ±Ğ½Ğ¸Ğ¹"
```

### Use-Case 2: VoC Mining (Ğ›Ğ°Ğ½ĞºĞ° â‘¡ Marketing Chain)

```
Owner: "@Andy Ğ·Ğ½Ğ°Ğ¹Ğ´Ğ¸ Ğ±Ğ¾Ğ»ÑŒĞ¾Ğ²Ñ– Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ— Ñƒ Ğ³Ñ€ÑƒĞ¿Ğ°Ñ… Ğ¿Ñ€Ğ¾ AI Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³"

NanoClaw:
1. getDialogs â†’ Ğ·Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ 5 Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ğ¸Ñ… Ğ³Ñ€ÑƒĞ¿
2. searchGlobal("Ğ½Ğµ Ğ¿Ñ€Ğ°Ñ†ÑÑ” OR Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° OR ÑĞºĞ»Ğ°Ğ´Ğ½Ğ¾ OR Ğ½Ğµ Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ñ") 
3. searchGlobal("Ñ…Ğ¾Ñ‡Ñƒ OR Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ OR ÑˆÑƒĞºĞ°Ñ OR ÑĞº Ğ·Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸")
4. getHistory ĞºĞ¾Ğ¶Ğ½Ğ¾Ñ— Ğ³Ñ€ÑƒĞ¿Ğ¸ (Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ–Ğ¹ Ğ¼Ñ–ÑÑÑ†ÑŒ)

Claude Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·ÑƒÑ” â†’ VoC Database:
  â€¢ PUSH (Ğ±Ğ¾Ğ»Ñ–): "Ğ²Ğ¸Ñ‚Ñ€Ğ°Ñ‡Ğ°Ñ 3 Ğ³Ğ¾Ğ´Ğ¸Ğ½Ğ¸ Ğ½Ğ° Ğ¾Ğ´Ğ¸Ğ½ Ğ¿Ğ¾ÑÑ‚" (47 Ğ·Ğ³Ğ°Ğ´Ğ¾Ğº)
  â€¢ PULL (Ğ±Ğ°Ğ¶Ğ°Ğ½Ğ½Ñ): "Ñ…Ğ¾Ñ‡Ñƒ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·ÑƒĞ²Ğ°Ñ‚Ğ¸" (31 Ğ·Ğ³Ğ°Ğ´ĞºĞ°)  
  â€¢ ANXIETY: "Ğ±Ğ¾ÑÑÑ Ñ‰Ğ¾ AI Ğ·Ñ€Ğ¾Ğ±Ğ¸Ñ‚ÑŒ generic" (18 Ğ·Ğ³Ğ°Ğ´Ğ¾Ğº)
  â€¢ HABIT: "Ñ– Ñ‚Ğ°Ğº Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ² Canva" (12 Ğ·Ğ³Ğ°Ğ´Ğ¾Ğº)
```

### Use-Case 3: Content Publishing (Ğ›Ğ°Ğ½ĞºĞ° â‘¤ Marketing Chain)

```
Owner: "@Andy Ğ¾Ğ¿ÑƒĞ±Ğ»Ñ–ĞºÑƒĞ¹ Ñ†ĞµĞ¹ Ğ¿Ğ¾ÑÑ‚ Ñƒ Ğ¼Ğ¾Ñ”Ğ¼Ñƒ ĞºĞ°Ğ½Ğ°Ğ»Ñ– Ğ¾ 10:00"

NanoClaw:
1. sendMessage(channel_id, text, schedule_date=tomorrow_10am)
   â†’ ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ²Ñ–Ğ´ Ñ–Ğ¼ĞµĞ½Ñ– OWNER'Ğ (Ğ½Ğµ Ğ±Ğ¾Ñ‚Ğ°!)
2. ĞŸÑ–ÑĞ»Ñ Ğ¿ÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ—: getPostStats â†’ tracking engagement
3. Ğ§ĞµÑ€ĞµĞ· 24 Ğ³Ğ¾Ğ´: getMessagePublicForwards â†’ Ñ…Ñ‚Ğ¾ Ğ¿ĞµÑ€ĞµÑĞ»Ğ°Ğ²

Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: Ğ¿Ğ¾ÑÑ‚ Ğ²Ñ–Ğ´ Ğ¾ÑĞ¾Ğ±Ğ¸ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ±Ñ€ĞµĞ½Ğ´Ñƒ + Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ° Ğ°Ğ½Ğ°Ğ»Ñ–Ñ‚Ğ¸ĞºĞ°
```

### Use-Case 4: Audience Analysis (Ğ›Ğ°Ğ½ĞºĞ° â‘¡ + â‘© Marketing Chain)

```
Owner: "@Andy Ñ…Ñ‚Ğ¾ Ğ¼Ğ¾Ñ— Ğ½Ğ°Ğ¹Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ–ÑˆÑ– Ğ¿Ñ–Ğ´Ğ¿Ğ¸ÑĞ½Ğ¸ĞºĞ¸?"

NanoClaw:
1. getParticipants(channel_id) â†’ Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº
2. Ğ”Ğ»Ñ ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ³Ğ¾: getHistory + search â†’ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ–ÑÑ‚ÑŒ
3. getReadParticipants (Ğ´Ğ»Ñ Ğ¼Ğ°Ğ»Ğ¸Ñ… Ğ³Ñ€ÑƒĞ¿) â†’ Ñ…Ñ‚Ğ¾ Ñ‡Ğ¸Ñ‚Ğ°Ñ”
4. Cross-reference Ğ· Ñ–Ğ½ÑˆĞ¸Ğ¼Ğ¸ ĞºĞ°Ğ½Ğ°Ğ»Ğ°Ğ¼Ğ¸ owner'Ğ°

Claude â†’ Audience Segments:
  â€¢ Champions (>10 Ñ€ĞµĞ°ĞºÑ†Ñ–Ğ¹/Ğ¼Ñ–Ñ): 23 Ğ¾ÑÑ–Ğ±
  â€¢ Active readers (Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ğ²Ğ°ÑÑ‚ÑŒ >80%): 156 Ğ¾ÑÑ–Ğ±  
  â€¢ Lurkers (0 Ñ€ĞµĞ°ĞºÑ†Ñ–Ğ¹, Ñ€Ñ–Ğ´ĞºĞ¾ Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½): 890 Ğ¾ÑÑ–Ğ±
  â€¢ At-risk (Ğ±ÑƒĞ»Ğ¸ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ–, Ğ·Ğ½Ğ¸ĞºĞ»Ğ¸): 45 Ğ¾ÑÑ–Ğ±
```

---

## 11. Ğ§ĞµÑ‚Ğ²ĞµÑ€Ñ‚Ğ° Ñ€Ğ¾Ğ»ÑŒ Telegram

Phase 2 Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ¸Ğ² Ñ‚Ñ€Ğ¸ Ñ€Ğ¾Ğ»Ñ–. User API Ğ´Ğ¾Ğ´Ğ°Ñ” Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ñ‚Ñƒ:

```
Ğ ĞĞ›Ğ¬ 1: UI (Bot â†’ owner)
  telegram-bot.ts: Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ, ĞºĞ½Ğ¾Ğ¿ĞºĞ¸, ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸

Ğ ĞĞ›Ğ¬ 2: MARKETING CHANNEL (Bot/User â†’ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ)  
  ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ, Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ†Ñ–Ñ, engagement

Ğ ĞĞ›Ğ¬ 3: CONTEXT SOURCE (Bot discovery â†’ context/)
  ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ Ğ·Ğ±Ñ–Ñ€ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ… Ğ¿Ñ€Ğ¸ Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ– Ğ´Ğ¾ Ğ³Ñ€ÑƒĞ¿Ğ¸

Ğ ĞĞ›Ğ¬ 4: ğŸ†• INTELLIGENCE PLATFORM (User â†’ data â†’ Claude â†’ insights)
  ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ¾ Ğ´Ğ°Ğ½Ğ¸Ñ… Telegram ĞµĞºĞ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸:
  â€¢ Ğ†ÑÑ‚Ğ¾Ñ€Ñ–Ñ Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¾Ğ³Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ñ‡Ğ°Ñ‚Ñƒ
  â€¢ ĞŸĞ¾ÑˆÑƒĞº Ğ¿Ğ¾ Ğ²ÑÑ–Ñ… Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½ÑÑ…
  â€¢ Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° ĞºĞ°Ğ½Ğ°Ğ»Ñ–Ğ² Ñ– Ğ¿Ğ¾ÑÑ‚Ñ–Ğ²
  â€¢ Ğ£Ñ‡Ğ°ÑĞ½Ğ¸ĞºĞ¸ Ñ– Ñ—Ñ… Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ–ÑÑ‚ÑŒ
  â€¢ ĞšĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ğ° Ğ¼ĞµÑ€ĞµĞ¶Ğ° (similar channels)
  â€¢ Stories, Ñ€ĞµĞ°ĞºÑ†Ñ–Ñ—, read receipts
  
  Telegram ÑÑ‚Ğ°Ñ” Ğ½Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¼ĞµÑĞµĞ½Ğ´Ğ¶ĞµÑ€Ğ¾Ğ¼,
  Ğ° Ğ“ĞĞ›ĞĞ’ĞĞ˜Ğœ Ğ”Ğ–Ğ•Ğ Ğ•Ğ›ĞĞœ ĞœĞĞ ĞšĞ•Ğ¢Ğ˜ĞĞ“ĞĞ’Ğ˜Ğ¥ Ğ”ĞĞĞ˜Ğ¥
```

---

## 12. ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ– Ğ·Ğ¼Ñ–Ğ½Ğ¸ Ğ´Ğ¾ Phase 1-2

### Phase 1 Ğ·Ğ¼Ñ–Ğ½Ğ¸ (3 Ğ´Ğ¾Ğ¿Ğ¾Ğ²Ğ½ĞµĞ½Ğ½Ñ)

**1.3 Ownership Model** â€” Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸:
```
User Session = Ğ¾Ğ¿Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚.
1 NanoClaw = 1 Bot (Ğ¾Ğ±Ğ¾Ğ²'ÑĞ·ĞºĞ¾Ğ²Ğ¾) + 0..1 User Session (Ğ¾Ğ¿Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
Bot Ğ¿Ñ€Ğ°Ñ†ÑÑ” ÑĞ°Ğ¼Ğ¾ÑÑ‚Ñ–Ğ¹Ğ½Ğ¾. User Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€ÑÑ” Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–.
Ğ’Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ User â†’ graceful fallback Ğ½Ğ° Bot-only.
```

**1.6 Information Topology** â€” Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Flow H: User Intelligence:
```
telegram-user.ts â†’ MTProto API â†’ Telegram servers
  â†“
channel-coordinator.ts â†’ routing + dedup + rate limit
  â†“
IPC: user-requests/ â†’ telegram-user.ts â†’ user-responses/
  â†“
Container (Claude) â†’ analysis â†’ context/ + memory/ + output
```

**1.8 Design Principles** â€” Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ #16: DUAL-CHANNEL GRACEFUL DEGRADATION:
```
Bot = Ğ·Ğ°Ğ²Ğ¶Ğ´Ğ¸ Ğ¿Ñ€Ğ°Ñ†ÑÑ” (Ğ¾Ğ±Ğ¾Ğ²'ÑĞ·ĞºĞ¾Ğ²Ğ¸Ğ¹)
User = Ğ¾Ğ¿Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğµ Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ
Ğ¯ĞºÑ‰Ğ¾ User Ğ²Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¹/Ğ·Ğ°Ğ±Ğ°Ğ½ĞµĞ½Ğ¸Ğ¹ â†’ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ fallback
ĞÑ–ÑĞºĞ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ–ÑÑ‚ÑŒ Ğ½Ğµ Ğ¼Ğ°Ñ” Ğ—ĞĞ›Ğ•Ğ–ĞĞ¢Ğ˜ Ğ²Ğ¸ĞºĞ»ÑÑ‡Ğ½Ğ¾ Ğ²Ñ–Ğ´ User
(Ğ¾ĞºÑ€Ñ–Ğ¼ Ñ‚Ğ¸Ñ… Ñ‰Ğ¾ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ¾Ğ²Ğ¾ Ğ½ĞµĞ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ñ– Ñ‡ĞµÑ€ĞµĞ· Bot API)
```

### Phase 2 Ğ·Ğ¼Ñ–Ğ½Ğ¸ (5 Ğ´Ğ¾Ğ¿Ğ¾Ğ²Ğ½ĞµĞ½ÑŒ)

**2.1** â€” Ğ¢Ñ€Ğ¸ Ñ€Ğ¾Ğ»Ñ– â†’ Ğ§ĞĞ¢Ğ˜Ğ Ğ˜ Ñ€Ğ¾Ğ»Ñ– (Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Intelligence Platform)

**2.2 Bot API Map** â€” Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ ÑĞµĞºÑ†Ñ–Ñ O: MTProto User API Map:
```
ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ— A-H Ğ· Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¼ Ğ¿ĞµÑ€ĞµĞ»Ñ–ĞºĞ¾Ğ¼ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ–Ğ² (Ñ†ĞµĞ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚, ÑĞµĞºÑ†Ñ–Ñ 2)
```

**2.3 Architectural Mapping** â€” Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ ÑĞµĞºÑ†Ñ–Ñ— S, T:
```
S: Dual-Channel Architecture (Bot + User coordinator)
T: IPC Extension (user-requests/responses protocol)
```

**2.4 Critical Decisions** â€” Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Decision G: User Session Architecture:
```
GramJS as MTProto client
StringSession encrypted storage
Anti-ban protocol with risk classification
IPC-based container access (no direct session sharing)
```

**2.6 Channel Adaptor** â€” Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€Ğ¸Ñ‚Ğ¸:
```
telegram-bot.ts (renamed from telegram.ts)
telegram-user.ts (NEW: GramJS MTProto client)
channel-coordinator.ts (NEW: routing + dedup)
anti-ban.ts (NEW: rate limiting + risk engine)
```

### Phase 2 Discovery Pipeline â€” Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ

```
Phase 2 "gaps.md" Ñ‰Ğ¾ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ÑƒĞ²Ğ°Ğ² "ĞĞ• Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞĞ":
  âŒ Message history â†’ âœ… Ğ¢Ğ•ĞŸĞ•Ğ  Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞĞ (getHistory)
  âŒ Full member list â†’ âœ… Ğ¢Ğ•ĞŸĞ•Ğ  Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞĞ (getParticipants)  
  âŒ Message statistics â†’ âœ… Ğ¢Ğ•ĞŸĞ•Ğ  Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞĞ (stats.*)
  âŒ Forum topics list â†’ âœ… Ğ¢Ğ•ĞŸĞ•Ğ  Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞĞ (getForumTopics)
  âŒ Channel stats â†’ âœ… Ğ¢Ğ•ĞŸĞ•Ğ  Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞĞ (stats.getBroadcastStats)

Workarounds Ğ· Phase 2 ÑÑ‚Ğ°ÑÑ‚ÑŒ FALLBACK Ğ´Ğ»Ñ Bot-only Ñ€ĞµĞ¶Ğ¸Ğ¼Ñƒ.
```

---

## 13. Ğ—Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ– Ñ‚Ğ° Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—

```
PHASE 2.5 IMPLEMENTATION ORDER:

STEP 1: telegram-user.ts (core client)
  â”œâ”€â”€ GramJS initialization
  â”œâ”€â”€ Session encryption/storage
  â”œâ”€â”€ Auth flow (phone â†’ code â†’ 2FA â†’ session)
  â”œâ”€â”€ Connection lifecycle (connect, disconnect, reconnect)
  â””â”€â”€ Basic methods: getDialogs, getHistory, searchMessages

STEP 2: anti-ban.ts
  â”œâ”€â”€ Rate limiter (per-method + global)
  â”œâ”€â”€ Risk classifier (LOW/MEDIUM/HIGH/BLOCKED)
  â”œâ”€â”€ FloodWait handler
  â”œâ”€â”€ Human-like delay injection
  â””â”€â”€ Daily budget tracking

STEP 3: channel-coordinator.ts
  â”œâ”€â”€ Bot â†” User routing logic
  â”œâ”€â”€ Event deduplication
  â”œâ”€â”€ Fallback logic (User unavailable â†’ Bot)
  â””â”€â”€ Queue management

STEP 4: IPC extension (ipc.ts + ipc-mcp.ts)
  â”œâ”€â”€ user-requests/ directory handling
  â”œâ”€â”€ user-responses/ directory handling
  â”œâ”€â”€ tg_* MCP tools for containers
  â””â”€â”€ Authorization checks per group

STEP 5: Discovery Pipeline v2 (update existing)
  â”œâ”€â”€ Standard depth â†’ add User API calls
  â”œâ”€â”€ Full depth â†’ add deep analysis
  â””â”€â”€ gaps.md â†’ update with new capabilities

STEP 6: Marketing skills integration
  â”œâ”€â”€ intelligence/competitor-analysis â†’ uses tg_get_history, tg_get_channel_stats
  â”œâ”€â”€ meta/extraction â†’ uses tg_get_participants, tg_get_forum_topics
  â”œâ”€â”€ communication/social-media/telegram â†’ uses tg_send_as_user, tg_publish_story
  â””â”€â”€ analytics/reporting â†’ uses tg_get_post_stats
```

---

## 14. ĞĞ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ Ñ‚Ğ° Ñ€Ğ¸Ğ·Ğ¸ĞºĞ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ ĞĞ‘ĞœĞ•Ğ–Ğ•ĞĞĞ¯ MTProto USER API                         â”‚
â”‚                                                         â”‚
â”‚  1. Ğ‘ĞĞ Ğ Ğ˜Ğ—Ğ˜Ğš â€” Ğ½Ğ°Ğ¹ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ñ–ÑˆĞµ Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ                â”‚
â”‚     Telegram Ğ¼Ğ¾Ğ¶Ğµ Ğ·Ğ°Ğ±Ğ°Ğ½Ğ¸Ñ‚Ğ¸ Ğ°ĞºĞ°ÑƒĞ½Ñ‚ owner'Ğ°               â”‚
â”‚     Ğ·Ğ° Ğ°Ğ³Ñ€ĞµÑĞ¸Ğ²Ğ½Ğµ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ API.                      â”‚
â”‚     ĞœÑ–Ñ‚Ğ¸Ğ³Ğ°Ñ†Ñ–Ñ: anti-ban Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ», HITL Ğ´Ğ»Ñ HIGH risk    â”‚
â”‚                                                         â”‚
â”‚  2. ĞĞ”ĞĞ Ğ¡Ğ•Ğ¡Ğ†Ğ¯ = ĞĞ”Ğ˜Ğ ĞŸĞ ĞĞ¦Ğ•Ğ¡                           â”‚
â”‚     GramJS Ğ¿Ñ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ÑƒÑ” Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ¾Ğ´Ğ½Ğµ Ğ·'Ñ”Ğ´Ğ½Ğ°Ğ½Ğ½Ñ              â”‚
â”‚     Ğ½Ğ° StringSession. Ğ¯ĞºÑ‰Ğ¾ owner Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”           â”‚
â”‚     Ñ–Ğ½ÑˆĞ¸Ğ¹ userbot â†’ ĞºĞ¾Ğ½Ñ„Ğ»Ñ–ĞºÑ‚.                          â”‚
â”‚     ĞœÑ–Ñ‚Ğ¸Ğ³Ğ°Ñ†Ñ–Ñ: Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ–                â”‚
â”‚                                                         â”‚
â”‚  3. SECRET CHATS â€” Ğ¡ĞšĞ›ĞĞ”ĞĞ Ğ Ğ•ĞĞ›Ğ†Ğ—ĞĞ¦Ğ†Ğ¯                   â”‚
â”‚     E2E encryption Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒÑ” Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ³Ğ¾ key exchange.       â”‚
â”‚     GramJS Ğ¿Ñ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ÑƒÑ” Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ¾, Ğ°Ğ»Ğµ Ğ½ĞµÑÑ‚Ğ°Ğ±Ñ–Ğ»ÑŒĞ½Ğ¾.           â”‚
â”‚     Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ: MVP Ğ±ĞµĞ· secret chats                      â”‚
â”‚                                                         â”‚
â”‚  4. CALLS â€” Ğ”Ğ£Ğ–Ğ• Ğ¡ĞšĞ›ĞĞ”ĞĞ                               â”‚
â”‚     VoIP Ñ‡ĞµÑ€ĞµĞ· MTProto Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒÑ” WebRTC +                â”‚
â”‚     encryption + NAT traversal.                        â”‚
â”‚     Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ: Ğ¿Ğ¾Ğ·Ğ° ÑĞºĞ¾ÑƒĞ¿Ğ¾Ğ¼ MVP                          â”‚
â”‚                                                         â”‚
â”‚  5. FLOOD WAIT â€” ĞĞ•ĞŸĞ•Ğ Ğ•Ğ”Ğ‘ĞĞ§Ğ£Ğ’ĞĞĞ˜Ğ™                      â”‚
â”‚     Telegram Ğ¼Ğ¾Ğ¶Ğµ Ğ²Ğ¸Ğ´Ğ°Ñ‚Ğ¸ FloodWait Ğ²Ñ–Ğ´ 1Ñ Ğ´Ğ¾ 24Ğ³Ğ¾Ğ´.    â”‚
â”‚     ĞœÑ–Ñ‚Ğ¸Ğ³Ğ°Ñ†Ñ–Ñ: exponential backoff + owner notify       â”‚
â”‚                                                         â”‚
â”‚  6. TOS GREY ZONE                                      â”‚
â”‚     Telegram Terms: "You must not use our service       â”‚
â”‚     to send spam or scam users."                       â”‚
â”‚     Userbot Ğ´Ğ»Ñ Ğ’Ğ›ĞĞ¡ĞĞĞ“Ğ Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ñƒ â‰  spam,               â”‚
â”‚     Ğ°Ğ»Ğµ Ğ¼Ğ°ÑĞ¾Ğ²Ñ– Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ñ— Ğ¼Ğ¾Ğ¶ÑƒÑ‚ÑŒ Ğ±ÑƒÑ‚Ğ¸ Ñ€Ğ¾Ğ·Ñ†Ñ–Ğ½ĞµĞ½Ñ– ÑĞº spam.  â”‚
â”‚     ĞœÑ–Ñ‚Ğ¸Ğ³Ğ°Ñ†Ñ–Ñ: conservative rate limits + HITL          â”‚
â”‚                                                         â”‚
â”‚  7. PYTHON ECOSYSTEM ADVANTAGE                          â”‚
â”‚     GramJS Ğ¼ĞµĞ½Ñˆ Ğ·Ñ€Ñ–Ğ»Ğ¸Ğ¹ Ğ½Ñ–Ğ¶ Telethon/Pyrogram.          â”‚
â”‚     Ğ”ĞµÑĞºÑ– edge cases Ğ¼Ğ¾Ğ¶ÑƒÑ‚ÑŒ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒĞ²Ğ°Ñ‚Ğ¸ workaround.    â”‚
â”‚     ĞœÑ–Ñ‚Ğ¸Ğ³Ğ°Ñ†Ñ–Ñ: mtcute ÑĞº backup, community support      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 15. MECE Validation Checklist

```
âœ… ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ A (Ğ†ÑÑ‚Ğ¾Ñ€Ñ–Ñ/ĞŸĞ¾ÑˆÑƒĞº): 8 Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹ â€” ĞŸĞĞ’ĞĞ• Ğ¿Ğ¾ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ
âœ… ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ B (Ğ£Ñ‡Ğ°ÑĞ½Ğ¸ĞºĞ¸): 7 Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹ â€” ĞŸĞĞ’ĞĞ• Ğ¿Ğ¾ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ
âœ… ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ C (Ğ“Ñ€ÑƒĞ¿Ğ¸/ĞšĞ°Ğ½Ğ°Ğ»Ğ¸): 11 Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹ â€” ĞŸĞĞ’ĞĞ• Ğ¿Ğ¾ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ
âœ… ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ D (ĞšĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚): 11 Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹ â€” ĞŸĞĞ’ĞĞ• Ğ¿Ğ¾ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ
âœ… ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ E (ĞœĞµĞ´Ñ–Ğ°): 4 Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ– â€” ĞŸĞĞ’ĞĞ• Ğ¿Ğ¾ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ
âœ… ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ F (ĞŸÑ€Ğ¾Ñ„Ñ–Ğ»ÑŒ): 7 Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹ â€” ĞŸĞĞ’ĞĞ• Ğ¿Ğ¾ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ
âœ… ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ G (Ğ Ğ¾Ğ·Ğ²Ñ–Ğ´ĞºĞ°): 7 Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹ â€” ĞŸĞĞ’ĞĞ• Ğ¿Ğ¾ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ
âœ… ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ñ–Ñ H (User-specific): 6 Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹ â€” ĞŸĞĞ’ĞĞ• (Ğ¼Ñ–Ğ½ÑƒÑ calls/secret)

TOTAL: 61 Ğ½Ğ¾Ğ²Ğ° Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· MTProto User API
  â””â”€â”€ Ğ— Ğ½Ğ¸Ñ… Bot API Ğ¿Ğ¾ĞºÑ€Ğ¸Ğ²Ğ°Ñ”: ~8 (13%)
  â””â”€â”€ Ğ£Ğ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ñ– Ğ´Ğ»Ñ User: ~53 (87%)

MUTUALLY EXCLUSIVE: âœ…
  Bot API Ñ– MTProto User API Ğ½Ğµ Ğ¿ĞµÑ€ĞµÑ‚Ğ¸Ğ½Ğ°ÑÑ‚ÑŒÑÑ Ñƒ Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ÑÑ…:
  - Ğ¢Ğµ Ñ‰Ğ¾ Ğ¼Ğ¾Ğ¶Ğµ Bot (inline keyboards, payments, mini apps) â€” User Ğ½Ğµ Ğ¼Ğ¾Ğ¶Ğµ
  - Ğ¢Ğµ Ñ‰Ğ¾ Ğ¼Ğ¾Ğ¶Ğµ User (history, members, stats) â€” Bot Ğ½Ğµ Ğ¼Ğ¾Ğ¶Ğµ
  - ĞĞ±Ğ¸Ğ´Ğ²Ğ° Ğ¼Ğ¾Ğ¶ÑƒÑ‚ÑŒ: send/edit/delete messages, manage groups
    â†’ coordinator Ğ²Ğ¸Ñ€Ñ–ÑˆÑƒÑ” Ñ…Ñ‚Ğ¾ Ñ€Ğ¾Ğ±Ğ¸Ñ‚ÑŒ

COLLECTIVELY EXHAUSTIVE: âœ…
  Bot + User = Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Telegram API coverage
  Ğ„Ğ´Ğ¸Ğ½Ñ– Ğ²Ğ¸ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ:
  - Official client-only methods (Google Play, Apple push)
  - TSF internal methods
  - SMS jobs (irrelevant)
```